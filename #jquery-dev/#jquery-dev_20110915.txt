[04:40:51] <jaubourg> ?tell timmywil so we commit in the merge branch now?
[04:40:52] <bot-t> (19 hours 10 mins ago) <ben_alman> tell jaubourg is it possible for $.ajax to "honor" redirects? how does that work (if at all)?
[04:40:52] <bot-t> jaubourg, Okay.
[04:41:52] <gnarf> sup jaubourg
[04:42:13] <jaubourg> ?tell ben_alman $.ajax can honor redirects iirc, however, if the redirect goes to cross-domain, you'd better set the original request with crossDomain: true so that the xhr is in the correct state and all that
[04:42:13] <bot-t> jaubourg, Okay.
[04:42:31] <jaubourg> hey gnarf
[04:42:51] <jaubourg> nm, need to work, feeling lazy
[04:43:08] <gnarf> random demo for you to look at if you're bored: http://jquery/jquery-ui/tests/visual/timepicker/timepicker.html :)
[04:46:08] <jzaefferer> jaubourg: I actually have a problem with redirects, specifially 302 responses
[04:46:22] <jzaefferer> dunno if thats the same as ben had...
[04:47:05] <jzaefferer> something like this: http://developers.soundcloud.com/console - https://api.soundcloud.com/resolve.json?url=http://soundcloud.com/forss/flickermood
[04:47:15] <jzaefferer> returns a 302 with a Location header
[05:04:10] <jaubourg> jzaefferer: oh and you receive the 302?
[05:06:28] <jaubourg> yeah, I admit I dunno exactly how and when an xhr imp will follow redirect
[05:06:41] <jaubourg> I know it's possible... let me dig this bug that the crossDomain option fixed
[05:08:38] <jzaefferer> try this:
[05:08:40] <jzaefferer> var x = new XMLHttpRequest(); x.open('GET', 'https://api.soundcloud.com/resolve.json?url=http://soundcloud.com/forss/flickermood&client_id=apigee', true); x.send()
[05:08:50] <jaubourg> http://bugs.jquery.com/ticket/9155
[05:08:58] <jaubourg> seems like 302 won't redirect automagically
[05:09:03] <jaubourg> 301 should
[05:09:14] <jaubourg> but then you have caveats like the one in this bug report
[05:09:28] <jzaefferer> in Chrome network tab I see two requests, the one for that resource, then another one for the Location, but that fails to load, or something, there's no response
[05:10:10] <jaubourg> weird
[05:11:49] <jaubourg> seems to work on my end
[05:12:10] <jaubourg> why on earth doesn't the network tab of the chrome dev tool have a content tab?
[05:12:55] <jzaefferer> you get a content tab when there's a response
[05:13:03] <jzaefferer> that is, if there's content to display
[05:13:26] <jaubourg> what's weird is that if you open the link in a new tab, you get the content
[05:13:34] <jzaefferer> I wonder if I'm having the same problem, without the exception being thrown: https://bugs.webkit.org/show_bug.cgi?id=57600
[05:13:38] <jaubourg> could it be some cross-domain weirdness?
[05:13:50] <jzaefferer> yeah, very likely
[05:15:05] <jaubourg> whenever redirects are involved I highly recommand setting the crossDomain setting to true in jQuery... now I should go back in the code to remember what it actually does on the native xhr :P
[05:16:37] <jzaefferer> well, crossDomain=true is set...
[05:22:55] <gnarf> has anyone ever tried doing anything with the native drag/drop events?
[05:31:54] <jaubourg> join #jquery-ot
[05:31:57] <jaubourg> heh
[05:32:24] <jaubourg> I hate my keyboard
[05:49:25] <addyosmani> now I know what to get you for christmas @jaubourg :D
[05:57:13] <jaubourg> ?
[05:58:01] <addyosmani> you said you hated your keyboard
[05:58:04] <addyosmani> so new keyboard
[05:58:06] <addyosmani> ;D
[06:00:23] <jaubourg> hehe
[06:01:43] <jzaefferer> like a MS natural keyboard?
[06:02:26] <addyosmani> its well possible
[06:02:29] <jaubourg> I just have to get used to the laptop really
[06:12:17] <timmywil> we're live on google btw: http://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js
[06:12:17] <bot-t> (1 hour 31 mins ago) <jaubourg> tell timmywil so we commit in the merge branch now?
[06:12:38] <timmywil> jaubourg: yes please :)
[06:12:48] <timmywil> ?tell jaubourg yes please :)
[06:12:48] <bot-t> timmywil, Okay.
[06:20:26] <jaubourg> Okay
[06:20:26] <bot-t> (7 mins 38 secs ago) <timmywil> tell jaubourg yes please :)
[06:33:13] <jqcommit> [jquery] timmywil pushed 1 new commit to 1.7/combined: http://git.io/_V-oVw
[06:33:13] <jqcommit> [jquery/1.7/combined] Call .is(:visible) on the window or document does not thrown an error in IE. Fixes #10267. - timmywil
[06:42:00] <gnarf> can we make a 1.7 open bugs report?
[06:45:49] <gnarf> http://jsperf.com/internal-data == pull 500 + pull 503 - some tests
[06:46:16] <gnarf> seems a very minor loss in performance on get/set public keys in data
[06:46:30] <gnarf> but a pretty big boost in get/set private keys
[06:47:04] <gnarf> timmywil: were you around when I was talking about that potentially dead code?
[06:47:15] <timmywil> don't think so
[06:47:35] <gnarf> so there is a chunk of code in data right now that makes sure when we "delete private data" that it doesn't blow up "public data"
[06:47:45] * gnarf looks for the code real quick to share
[06:48:26] <gnarf> https://github.com/gnarf37/jquery/blob/a39433f97baf570ba77f9800bc8d05b38e15fe37/src/data.js#L199-212
[06:48:26] <timmywil> so i guess we'd want to change that to empty everything inside the main cache that is not the public cache?
[06:48:52] <gnarf> timmywil: i propose we make .removeData( elem, undefined, true ) (which is the "delete private") just delete everything
[06:48:58] <gnarf> it is only ever called in one place
[06:49:10] <gnarf> and its "internal only"
[06:49:21] <timmywil> where does it get called?
[06:49:42] <gnarf> https://github.com/gnarf37/jquery/blob/a39433f97baf570ba77f9800bc8d05b38e15fe37/src/event.js#L264
[06:49:45] <gnarf> and
[06:50:03] <gnarf> this could be replaced with jQuery.removeData( elem, "handle", true ) instead of delete data.handle
[06:50:16] <gnarf> then if it IS empty (ie no public data) it will remove the data anyway
[06:50:21] <gnarf> because removedata is smart like that
[06:50:31] <gnarf> shaves like 3 lines of code out of event there
[06:51:21] <gnarf> there is a unit test that is testing this removal behavior
[06:51:27] <gnarf> but i can alter the unit too
[06:51:46] <gnarf> because if we alter the internal use of that function - i suppose we can alter the behavior expected in the unit
[06:52:41] <timmywil> hmm, yea if it's empty it can still be removed
[06:52:46] <timmywil> ok that sounds right
[06:53:23] <gnarf> cool
[06:53:28] <gnarf> i'll add that to p500
[06:53:46] <gnarf> also, just submitted p503 - which requires p500 to not break units
[06:54:01] <timmywil> hmm, well, we've never actually removed the expando from an element before?
[06:54:10] <gnarf> removeData does
[06:54:21] <gnarf> so does "cleanData"
[06:54:21] <timmywil> it does if it's empty?
[06:54:23] <gnarf> yeah
[06:54:25] <timmywil> ah ok
[06:54:31] <timmywil> well perfect
[06:54:34] <gnarf> if it destroys the cache object - it destroys the expando
[06:54:42] <timmywil> coolcool
[06:56:45] <timmywil> gnarf: just saw this part.  i wonder if we could removeProp do this instead of a try/catch https://github.com/gnarf37/jquery/blob/a39433f97baf570ba77f9800bc8d05b38e15fe37/src/data.js#L216-222
[06:56:54] <timmywil> make*
[06:57:15] <gnarf> does removeProp do the deleteExpando shit?
[06:57:41] <timmywil> im saying i wonder if we could make it do that
[06:58:00] <gnarf> ehh- we prolly could
[06:58:01] <timmywil> currently it just tries to force a delete
[06:58:28] <gnarf> well the support test should determine that right?
[06:58:36] <timmywil> but since we already have the support test for deleteExpando, we could revert to removeAttribute and setting to null just like data does
[06:58:54] <gnarf> prolly a decent approach
[06:59:22] <gnarf> thats only on nodes tho
[06:59:29] <gnarf> so you'd want to check that elem is a node
[06:59:43] <timmywil> sure, it does that already
[07:01:43] <timmywil> well, actually, maybe we would want a per-element function
[07:01:57] <timmywil> anyway, not a big deal
[07:10:59] <gnarf> timmywil: https://github.com/gnarf37/jquery/commit/9b18ad0822d05add3bbc3150e426b2d188355d20
[07:10:59] <socialhapy> ★ Commit on jquery by gnarf37 (1m, 5s ago): Data: Removing the only use of jQuery.removeData( elem, undefined, true ) - cleaning up some dead code
[07:11:46] <gnarf> its now 60 bytes smaller minified than the master i branched from
[07:12:46] <timmywil> nice
[07:14:05] <gnarf> you think its better to look at p500 alone in the perf test i made?
[07:14:25] <gnarf> cuz that p503 sure makes .data() much faster on successive calls :)
[07:15:14] <timmywil> whichever we'll end up with :)
[07:15:22] <timmywil> being 503
[07:18:19] <gnarf> http://jsperf.com/internal-data/3
[07:19:23] <timmywil> woot unicorns
[07:19:37] <gnarf> thats my name for unreleased jQuery versions
[07:19:42] <gnarf> jQuery v1.unicorns
[07:19:46] <timmywil> good
[07:20:26] <timmywil> looks like we have a perf improvement
[07:21:08] <gnarf> the only ones that are close to not improving are get/set public
[07:21:36] <gnarf> but within margin of error
[07:21:42] <gnarf> but HUGE improvement from p503
[07:21:49] <gnarf> on successive calls to .data()
[07:21:59] <gnarf> which i'm looking forward too
[07:22:06] <gnarf> cuz thats my use of .data() most of the time
[07:23:11] <timmywil> and jQuery's :)
[07:23:13] <DaveMethvin> nice stuff gnarf!
[07:23:21] <DaveMethvin> hey timmywil
[07:23:28] <timmywil> DaveMethvin: hi!
[07:23:46] <gnarf> theres one more thing sticky in .data()
[07:23:54] <gnarf> https://github.com/gnarf37/jquery/blob/9b18ad0822d05add3bbc3150e426b2d188355d20/src/data.js#L104
[07:24:19] <DaveMethvin> well remove that comment at least :P
[07:24:36] <DaveMethvin> rule #1, hide the evidence
[07:24:42] <gnarf> never
[07:24:46] <gnarf> :)
[07:25:02] <gnarf> i think we can remove it
[07:25:05] <timmywil> why not check for pvt?
[07:25:07] <gnarf> it doesn't break any units
[07:25:11] <timmywil> oh
[07:25:15] <timmywil> well maybe that too
[07:25:15] <DaveMethvin> i dunno how many external plugins are looking for events, that's why it was left in
[07:25:18] <gnarf> yup
[07:25:25] <gnarf> firequery?
[07:25:35] <timmywil> firequery gets the whole cache
[07:25:41] <timmywil> it'll break anyway
[07:25:42] <gnarf> public or private?
[07:25:43] <DaveMethvin> well we have to break it at some point (I hope)
[07:25:59] <timmywil> like you said before .data() returned private as well
[07:26:07] <gnarf> timmywil: :)
[07:26:15] <timmywil> they'll have to call ._data()
[07:26:23] <gnarf> maybe not
[07:26:31] <gnarf> they might be looking at jQuery.cache directly
[07:26:35] <gnarf> and referencing the expando
[07:26:40] <timmywil> yea maybe
[07:26:44] <gnarf> in which case, they will now get private data
[07:26:47] <gnarf> instead of public
[07:27:06] <DaveMethvin> for the event stuff i have been doing, i've used google codesearch a lot just to see what people are doing in the wild
[07:27:15] <DaveMethvin> informative, but scary :)
[07:27:20] <gnarf> yeah
[07:27:21] <gnarf> i mean
[07:27:25] <timmywil> might still work i guess, but either way, they could be looking at an edit
[07:27:32] <gnarf> for debugging i have suggested $(elem).data("events") to people b4
[07:27:58] <timmywil> why can't it be $(elem)._data("events")?
[07:28:14] <timmywil> it does that fine
[07:28:28] <DaveMethvin> yeah the reason for _data was just to prevent namespace collisions
[07:28:32] <gnarf> except there is no $.fn._data
[07:28:48] <gnarf> $._data( elem, "events" ) works
[07:28:50] <gnarf> :)
[07:28:50] <timmywil> ah right, $._data
[07:29:08] <DaveMethvin> we could even, er, document it
[07:29:16] <timmywil> WHAT
[07:29:20] <DaveMethvin> sorry
[07:29:23] <DaveMethvin> lol
[07:29:41] <gnarf> well - for the purpose of knowing how it works.. it might be an interesting docs page
[07:29:55] <timmywil> why was the "hack" added for 1.5? because it was previously accessible that way
[07:29:56] <timmywil> ?
[07:30:09] <gnarf> timmywil: yeah, data( 'events' ) has worked forever
[07:30:20] <timmywil> hmmmmmm
[07:30:24] <gnarf> whoever made it private assumed someone was probably looking at it
[07:30:26] <DaveMethvin> b/c it was changed to _data("events")
[07:30:38] <DaveMethvin> yeah john said some plugins needed it
[07:30:41] <DaveMethvin> so we exposed it
[07:30:50] <DaveMethvin> or, re-exposed it
[07:30:51] <timmywil> ok, i guess leave it then
[07:31:07] <gnarf> I think I might add that to the meeting agenda for monday
[07:31:12] <timmywil> ok
[07:31:19] <gnarf> cuz its prolly time to kill that if we can
[07:32:24] <DaveMethvin> hmm, here is what codesearch shows:
[07:32:25] <DaveMethvin>  http://www.google.com/codesearch#search/&q=data%5C(%22events%22%5C)%20lang:%5Ejavascript$%20&type=cs
[07:32:54] <DaveMethvin> prolly can filter it better
[07:33:13] <DaveMethvin> but there are definitely some ppl LOOKING AT UR EVENTS
[07:33:27] * gnarf feels weird editing the meeting agenda
[07:33:34] <gnarf> so like someone make sure what i put is ok? :)
[07:34:06] <paul_irish> anyone here wanna speak about jquery core at jQuery UK ?
[07:34:19] <paul_irish> early next year in Oxford
[07:34:37] <paul_irish> i'm looking at you three.
[07:34:46] <gnarf> i don't have a passport
[07:34:47] * gnarf grins
[07:34:55] <DaveMethvin> wow, oxford!
[07:34:58] <paul_irish> you should take care of that!
[07:35:04] <DaveMethvin> when next year?
[07:35:31] <paul_irish> feb 10th
[07:35:48] <DaveMethvin> i'll have to check on schedule etc but sounds interesting
[07:35:53] <paul_irish> groovy
[07:36:29] <DaveMethvin> gnarf, i think we should figure out why ppl are looking at events
[07:36:39] <DaveMethvin> maybe we need another api to look at something?
[07:36:49] <gnarf> DaveMethvin: i can tell you that I've looked at it - usually only for debugging
[07:37:02] <gnarf> like "does this have the event I'm looking for?
[07:37:19] <rworth> has it ever bothered you that there's no inverse for .add() ? How about .subtract() ?
[07:37:20] <gnarf> i'll console a $($0).data("events")
[07:37:35] <gnarf> rworth: .not
[07:38:13] <DaveMethvin> rworth there's remove but of course not the opposite of add
[07:38:22] <gnarf> .not() ... ?
[07:38:25] <jaubourg> paul: I can be interested ;)
[07:38:40] <paul_irish> good!
[07:38:41] <DaveMethvin> yeah and it's local for jaubourg
[07:38:42] <jaubourg> oh, didn't see Dave proposed
[07:38:51] <jaubourg> well, yeah, it's not far at least
[07:38:59] <paul_irish> rworth: not() ?
[07:39:02] <DaveMethvin> yer in that european area
[07:39:06] <paul_irish> o he said ittttttttt
[07:39:06] <jaubourg> and I have to make a global jquery presentation for October the 20th anyway ;)
[07:39:11] <DaveMethvin> NOT
[07:39:15] <paul_irish> NOTTTTTTTT
[07:39:20] <rworth> gnarf: thank you, I clicked on the category for .add() called Miscellaneous Traversing and was hoping to see it there
[07:39:24] <DaveMethvin> i wanted to say not
[07:39:26] <johnwards> hello all, you talking about jQuery UK by the way :)
[07:39:33] <rworth> oh, I know. NOT
[07:39:41] <paul_irish> ha. nice moves johnwards :)
[07:39:45] <DaveMethvin> rworth: also, the bird is the word
[07:39:47] <paul_irish> ^ is organizing ;)
[07:39:55] <johnwards> hello
[07:40:02] <jaubourg> hi
[07:40:04] <gnarf> so - docs for .add() should mention that you can use .not() to remove elements from the matched selection?
[07:40:07] <gnarf> rworth: ?
[07:40:21] <jaubourg> johnwards: so you need a jquery core prez?
[07:40:23] <rworth> yeah, and perhaps add .not to Misc. Traversing category
[07:40:30] <johnwards> so, first up paul_irish have you got an official confirmation
[07:40:36] <gnarf> rworth: on it
[07:40:42] <johnwards> on you coming :)
[07:40:46] <paul_irish> johnwards: nope!  not yet
[07:40:52] <paul_irish> monday will know
[07:40:55] <johnwards> cool
[07:41:03] <johnwards> right on the Core talk...
[07:41:28] <jaubourg> well, you have a european core dev right here ;)
[07:41:39] <DaveMethvin> and a handsome one at that
[07:41:40] <johnwards> JohnResig declined, and offered to suggest people in his place
[07:42:08] <jaubourg> yeah, busy John is busy
[07:42:09] <jaubourg> ;)
[07:42:25] <johnwards> In between that offer and now Ralph Whitbeck suggested that he could do the talk. He is our rep in the team.
[07:42:35] <johnwards> So...
[07:42:52] <johnwards> I emailed John taking him up on that offer and saying that Ralph had offered
[07:43:02] <johnwards> I believe this is called passing the buck
[07:43:15] <jaubourg> hehe
[07:44:27] <johnwards> I've seen a skype chat between JohnResig and Ralph which could be inferred that John was happy with Ralph
[07:44:44] <johnwards> I wonder if I keep mentioning JohnResig he'll appear in here ;)
[07:45:51] <johnwards> I've been busy in the background inviting people, I've got 7 slots confirmed. The two remaining are paul_irish and the core talk
[07:46:32] <johnwards> *next time* we'll do a call for papers, first time around we want to make a big splash, have the event nailed and hopefully sell out
[07:46:55] <DaveMethvin> so paul_irish are you still in brazil? can you get me one of those brazilian ipads?
[07:48:03] <gnarf> hrm
[07:48:04] <gnarf> <p><strong>Note:</strong> To reverse the <code>.add()</code> you can use <a href="http://api.jquery.com/not"><code>.not( elements | selector )</code> to remove elements from the jQuery results, or <a href="http://api.jquery.com/end"><code>.end()</code></a> to return to the selection before you added.</p>
[07:48:09] <gnarf> sound okay?
[07:48:37] <paul_irish> DaveMethvin: im here yes. do they have fancy ipads?
[07:48:56] <DaveMethvin> supposedly they are going to make ipads in brazil, announced a day or two ago
[07:49:04] <gnarf> rworth: ^^ ?
[07:49:22] <DaveMethvin> gnarf that looks pretty good to me
[07:49:45] <rworth> I saw some news about that a couple weeks back, yeah
[07:50:20] <johnwards> *sales pitch ignore* Anyone work for a company who'd be interested in sponsoring jQuery UK :)
[07:52:02] <gnarf> on the bottom of http://api.jquery.com/add/ now rworth
[07:54:10] <gnarf> and added .not() to the misc traversing too
[08:04:33] <rworth> gnarf: beauty
[08:26:16] <gnarf> anyone have a good VM for perf testing older IE?
[08:26:28] <gnarf> http://jsperf.com/internal-data/3 ? my VM gets like ± 25%
[08:29:42] <gnarf> holy balls
[08:29:49] <gnarf> look at the jump in .data() for ff6
[08:30:09] <johnwards> non core person chipping in. I've yet to find a VM for ie testing that can actually replicate real world performace. IE is always much faster in the VM. We were bitten hard on a rapheal project where IE was 10 times slower in reall world
[08:30:59] <gnarf> johnwards: well it makes sense since if there is a computer out there still running old IE its probably slow as shit
[08:31:14] <johnwards> yeah it does, but it was an expensive mistake to make :(
[08:31:33] <gnarf> but as far as benchmarking potential improvements in internal functions go, the VM is "real world" enough :)
[08:32:05] <johnwards> yeah i guess so
[08:32:07] <gnarf> i just wish my VM wasn't so cripplingly slow/latent
[08:36:50] <gnarf> hey DaveMethvin - rwaldron suggested i make sure https://github.com/jquery/jquery/pull/500 isn't gonna clash with anything you're doing with events? :)
[08:36:51] <socialhapy> ★ Pull request on jquery by gnarf37 (2d, 7h ago): 1.7 - "public data" stored as a key on "internal data" - Fixes #8921
[08:39:06] <DaveMethvin> gnarf: i don;t think there shoudl be problems
[08:39:13] <DaveMethvin> testing on ie right now btw
[08:43:51] <gnarf> i kinda wish you could tell browserscope to only show you one browsers results
[08:48:03] <DaveMethvin> gnarf: those are some impressive perf changes right thar
[08:48:15] <DaveMethvin> gotta run
[10:52:18] <gnarf> rwaldron: i'm really glad you told me to talk to mobile
[10:52:28] <gnarf> rwaldron: not cuz anything i did broke anything
[10:52:35] <gnarf> but their jqmData functions were buggy
[12:49:03] <rwaldron> ?style
[12:49:04] <bot-t> http://docs.jquery.com/JQuery_Core_Style_Guidelines
[12:51:51] <rwaldron> gnarf yt?
[12:51:58] <gnarf> yo
[12:53:24] <rwaldron> hey dude
[12:53:38] <rwaldron> i was jut thinking about your "set flag" for data stuff
[12:53:42] <rwaldron> wondering about tests
[12:53:50] <rwaldron> if it was possible to test
[12:54:21] <gnarf> p503?
[12:54:43] <rwaldron> yeah
[12:54:54] <gnarf> hrm
[12:54:59] <gnarf> yes its possible to test
[12:55:24] <gnarf> make an elem, call .data() - make a change to the data attr, call .data() - object should not of changed
[12:55:54] <rwaldron> timmywil yo
[12:56:03] <rwaldron> https://github.com/jquery/jquery/commit/52351e551b4a6c07263c5ba88a2974b1d121d72e
[12:56:07] <gnarf> want me to write it?
[12:56:25] <rwaldron> https://github.com/jquery/jquery/pull/398
[12:56:27] <rwaldron> ???
[12:56:37] <rwaldron> gnarf yes please
[12:57:09] <timmywil> rwaldron: haha, sorry man
[12:57:28] <timmywil> both implementations had conflicts
[12:57:35] <rwaldron> um
[12:57:40] <rwaldron> mine was recently updated
[12:58:44] <timmywil> idk, at the time I merged, we were both missing the if ( array ), which was added in some previous commit
[13:00:05] <rwaldron> hm. weird
[13:00:44] <rwaldron> your commit added that
[13:00:52] <rwaldron> you removed the if ( !array )
[13:01:01] <rwaldron> and changed to if ( array )
[13:01:14] <rwaldron> i just pulled and merged mine right now with no issues
[13:01:46] <rwaldron> you're missing a key part as well
[13:01:52] <rwaldron> the sparse array support
[13:02:08] <rwaldron> mine: if ( i in array && array[ i ] === elem ) {
[13:02:17] <rwaldron> yours: if ( array[ i ] === elem )
[13:02:22] <rwaldron> mine will skip "holes"
[13:02:28] <gnarf> rwaldron: not to be picky
[13:02:53] <gnarf> oo wait
[13:03:41] <gnarf> i dunno, i didn't write a test cuz it didn't really seem like something the user would be "using"
[13:04:05] <rwaldron> gnarf so?
[13:04:22] <rwaldron> what if i fix a bug 12 months from now and remove that
[13:04:30] <rwaldron> it wil come out without a problem
[13:04:33] <rwaldron> because there no tests
[13:04:40] <gnarf> yeah - i see what you're sayin
[13:04:52] <timmywil> rwaldron: dunno man, that doesn't look like what I tried to merge from you
[13:05:00] <timmywil> rwaldron: what does the i in array do?
[13:05:07] <rwaldron> dude, thats what is in the pull request queue
[13:05:12] <rwaldron> it hasnt changed in weeks
[13:05:47] <rwaldron> are you familiar with sparse arrays?
[13:06:26] <rwaldron> var a = []; a[1000] = "foo";
[13:06:40] <rwaldron> yours will iterate over 1000 undefined "holes"
[13:06:50] <rwaldron> mine will skip them
[13:07:00] <rwaldron> sorry, will iterate and try to check them
[13:07:05] <gnarf> a[0] !== elem
[13:07:05] <rwaldron> mine will not check them
[13:07:14] <gnarf> tho
[13:07:17] <gnarf> so what diff ?
[13:07:31] <gnarf> does i in a stop it from filling in a "hole" in memory or somethig?
[13:07:35] <rwaldron> the difference is in performance
[13:07:39] <timmywil> does not accessing it save time?
[13:07:43] <rwaldron> yes
[13:07:47] <timmywil> ok
[13:07:56] <rwaldron> i mean, at least add that to yours
[13:08:01] <rwaldron> and then close mine
[13:08:05] <rwaldron> so there is no confusing
[13:08:08] <rwaldron> confusion*
[13:08:38] * rwaldron files ticket and assigns to timmywil "Stop Steppin' on my Dick"
[13:08:43] <rwaldron> :P
[13:08:48] <timmywil> you know, i may have had your stuff locally :P
[13:09:00] <timmywil> yours was the only pull i wanted
[13:09:05] <timmywil> when doing the branches
[13:09:18] <timmywil> cause i had that on a branch too
[13:09:18] <rwaldron> well, close this: https://github.com/jquery/jquery/pull/398
[13:10:02] <rwaldron> when do you want to work on my pull requests for 1.7
[13:10:08] <rwaldron> so i know to make myself available
[13:10:12] <timmywil> im not merging pulls until we move 1.7/combined to master, so pulley will close tickets/pulls when i do
[13:10:16] <rwaldron> (i'm basically AFK until monday)
[13:10:24] <rwaldron> got it
[13:10:54] <rwaldron> either way, you should close 398
[13:11:06] <rwaldron> wait, i can close that
[13:11:08] <rwaldron> ugh
[13:11:15] * rwaldron slaps self
[13:11:16] <rwaldron> wake up
[13:12:56] <timmywil> rwaldron: sorry!
[13:13:29] <timmywil> DaveMethvin: can we rename $.inArray to $.rwaldron?
[13:13:46] <DaveMethvin> sure!
[13:14:32] <DaveMethvin> with a name like that, will it still work?
[13:14:38] * DaveMethvin runs away
[13:14:47] <timmywil> hahahaha
[13:14:54] <rwaldron> timmywil i wanna reply on 398 with...
[13:14:58] <ajpiano> it'll be the only function that magically checks whether you put the proper amount of spaces when you passed arguments to it.
[13:14:59] <rwaldron> 8=====D
[13:15:03] <timmywil> lol
[13:15:37] <timmywil> rwaldron: not to be picky, but is there a perf test somewhere on this i in array thing?
[13:16:20] <DaveMethvin> damn this inArray is starting to become like trim
[13:16:33] <DaveMethvin> which btw i want to rename to $.brazilian
[13:16:58] <timmywil> calling in can be pretty slow and it might mean a performance loss for non-sparse arrays (although i think javascript defaults to sparse)
[13:17:01] <rwaldron> ajpiano: http://pastie.org/2539449
[13:17:16] <rwaldron> it can be done
[13:17:34] <ajpiano> haha
[13:17:36] <timmywil> lol
[13:17:55] <rwaldron> timmywil DaveMethvin handling of sparse arrays as I've noted is per spec behaviour
[13:18:07] <rwaldron> even thought we make no claims to spec behaviour
[13:18:12] <rwaldron> i think it's a smart thing
[13:18:24] <rwaldron> think... forEach
[13:18:29] <rwaldron> :O
[13:20:46] <timmywil> DaveMethvin: btw, if you make any more changes, please commit them to the 1.7/combined branch
[13:21:36] <gnarf> rwaldron: got a test - fails master - passes after pull 500 + 503 - its on pull 503
[13:22:04] <rwaldron> love it.
[13:22:17] <DaveMethvin> timmywil: thanks for smushing it all together
[13:22:35] <DaveMethvin> this must mean 1.7 is getting closer!
[13:22:46] <gnarf> fixing a bug
[13:22:49] <gnarf> in the test
[13:23:51] <rwaldron> what the f...
[13:23:54] <rwaldron> docs#10288
[13:23:55] <bot-t> [#10288] 1.6.4 minified has high order bytes causing IE 8 crash when not sent UTF-8 (new bug) - http://jqbug.com/10288
[13:24:41] <timmywil> DaveMethvin: I'm only checking chrome and IEs right now, but we're passing fully in those!  Also, im waiting until we move 1.7/combined to master to merge pulls.
[13:24:52] <timmywil> and we've passed 6000 tests!
[13:24:57] <timmywil> 6030
[13:25:09] <rwaldron> holy shit
[13:25:11] <rwaldron> YES
[13:25:26] <gnarf> rwaldron: fixed test :)
[13:26:55] <gnarf> wtf 10288
[13:26:58] <DaveMethvin> so rwaldron on 10288 how do we get 8-bit chars in the file?
[13:27:05] <DaveMethvin> did the compressor do it?
[13:27:11] <rwaldron> i doubt it
[13:27:27] <jqcommit> [jquery] timmywil pushed 1 new commit to 1.7/combined: http://git.io/cTb5EA
[13:27:27] <jqcommit> [jquery/1.7/combined] Add sparse array performance improvement for inArray. Thanks rwaldron, rkatic, and jdalton - timmywil
[13:27:54] <rwaldron> how can we fix a bug for something so totally controllable
[13:28:27] <gnarf> where is the character? :)
[13:28:43] <rwaldron> http://redmine.lighttpd.net/wiki/1/Docs:ModCompress
[13:28:54] <timmywil> it could be compression of sizzle's unicode
[13:29:14] <timmywil> but who does that?
[13:31:16] <rwaldron> ben_alman just asked me, and I'm curious as well...
[13:31:23] <rwaldron> does Sizzle have unicode?
[13:31:48] <DaveMethvin> i am pretty sure uglify uses js escapes for unicode chars
[13:31:55] <DaveMethvin> i was loooking at that a while back
[13:31:58] <ben_alman> if there's unicode in strings it needs to be represented as "\uXXXX" instead of the literal unicode char
[13:32:14] <DaveMethvin> but see the lighty link above
[13:32:19] <rwaldron> yeah, i was just saying, I dont think uglify makes unicode or lets unicode pass
[13:32:21] <rwaldron> :\
[13:32:45] <ben_alman> DaveMethvin, rwaldron showed me some of your new event unit tests and something looked off to me. rwaldron can you link me the code you had shown last night?
[13:33:16] <DaveMethvin> see the entry in that ModCompress page for compress.filetype
[13:33:53] <DaveMethvin> sounds like when lighty compresses it you have to specify the charset, natch
[13:34:29] <DaveMethvin> so which tests ?
[13:34:38] <ben_alman> unsure
[13:34:44] <ben_alman> some of the new .on stuff
[13:34:53] <DaveMethvin> oh no!
[13:35:00] <ben_alman> what he showed me, he said came right from your tests, but it looked wonky
[13:35:07] <ben_alman> i just want to go over it and make sure it's all good
[13:35:11] <DaveMethvin> sure
[13:35:14] <ben_alman> can you link me your new tests?
[13:35:26] <DaveMethvin> no other human eyes had seen it yet
[13:35:38] <ben_alman> i totally understand
[13:35:40] <DaveMethvin> several cat eyes and my bird saw it tho
[13:35:41] <ben_alman> i just want to help
[13:35:46] <DaveMethvin> you bet
[13:36:20] <DaveMethvin> so do  you want the unit tests?
[13:37:51] <DaveMethvin> ben_alman: https://github.com/dmethvin/jquery/blob/1.7/event/test/unit/event.js#L2253
[13:37:58] <DaveMethvin> those are the on/off tests
[13:38:15] <ben_alman> looking
[13:38:49] <DaveMethvin> somehow github broke the line number stuff for me, sends me to the wrong line
[13:38:52] <DaveMethvin> but it's in that vicinity
[13:39:36] <rwaldron> i cant select mulitple lines on github anymore
[13:39:51] <DaveMethvin> yeah and the line numbers are off
[13:39:55] <rwaldron> this is like the time i realized that Bic stopped making my favorite pen
[13:39:56] <rwaldron> https://github.com/jquery/jquery/blob/1.7/event/test/unit/event.js#L2246
[13:40:02] <rwaldron> anyway ben_alman ^
[13:40:24] <ben_alman> which do i look at
[13:40:25] <ben_alman> omg
[13:40:58] <rwaldron> DaveMethvin about 90 Boston jQuery Meetup members saw it last night
[13:41:07] <ben_alman> and jizzed their pants fwiw
[13:41:15] <DaveMethvin> oh you spoiled the surprise! :P
[13:41:25] <rwaldron> it was a special "sneak peak"
[13:41:26] <DaveMethvin> wait until you see the perf tests
[13:41:37] <rwaldron> I intentionally made no perf tests
[13:41:47] <rwaldron> and told them they had to wait until the release
[13:41:49] <rwaldron> http://code.bocoup.com/jquery1-7/#landing-slide
[13:41:57] <rwaldron> shit
[13:42:53] <ben_alman> DaveMethvin, this seems ok to me
[13:42:58] <ben_alman> i don't know what i had seen last night
[13:43:14] * DaveMethvin waves hand ... these are not the bugs you are looking for
[13:43:20] <ben_alman> question: can the optional data argument to .on be a string?
[13:43:42] <DaveMethvin> oh, good eye, yes it can but you have to specify null for the selector
[13:43:45] <DaveMethvin> or undefined
[13:43:57] <DaveMethvin> couldn't figure out a way to avoid that
[13:44:23] <DaveMethvin> the api docs say it has to be an object ... but you know how much good that does
[13:44:41] <DaveMethvin> well the api docs for bind that is
[13:44:42] <ben_alman> yeah
[13:44:46] <ben_alman> well that's cool then
[13:44:48] <ben_alman> <3
[13:44:51] <rwaldron> DaveMethvin you probably missed the lies-slide
[13:44:56] <rwaldron> i jsut re-added it
[13:45:10] <rwaldron> http://code.bocoup.com/jquery1-7/#lies-slide
[13:45:14] <DaveMethvin> even with all that parameter hockey i managed to take out a lot of junk
[13:45:57] <DaveMethvin> damn rwaldron your first slide out-trolls me!
[13:46:11] <rwaldron> ?
[13:46:25] <rwaldron> the slide of lies?
[13:47:00] <DaveMethvin> yeah
[13:47:05] <DaveMethvin> i love it
[13:47:22] <DaveMethvin> well, except that NOW  you gave away jQuery 1.8
[13:47:38] <ben_alman> ?tell gnarf fwiw https://github.com/cowboy/jquery-route so far, something. i definitely want to talk to you more about other things that you'd like to see
[13:47:39] <bot-t> ben_alman, Okay.
[13:48:54] <gnarf> ben_alman: nice
[13:48:54] <bot-t> (1 min 15 secs ago) <ben_alman> tell gnarf fwiw https://github.com/cowboy/jquery-route so far, something. i definitely want to talk to you more about other things that you'd like to see
[13:48:56] <gnarf> bbiab
[13:48:59] <DaveMethvin> so ben_alman, there is now a special event hook for .trigger-ing and for .handle-ing
[13:49:27] <DaveMethvin> i am using them for doing the mouseover-->mouseenter processing for example
[13:49:42] <DaveMethvin> took a bunch of special case code out of the common path
[13:50:03] <ben_alman> that's great
[13:51:07] <DaveMethvin> alright, time to migrate ... i'm at the microsoft build conference and going to another session
[13:51:12] <DaveMethvin> cya later
[14:08:53] <_nickel> anyone from the ui team mind answering this poor jqm dev's question about the widget factory?
[14:09:24] <ajpiano> asking the question helps
[14:12:00] <_nickel> ajpiano: fair enough
[14:12:04] <_nickel> distracted for a moment
[14:12:18] <rwaldron> ajpiano _nickel is one of the core contribs on jquery mobile
[14:12:28] <_nickel> is there any reason _create doesn't _trigger( 'init' )
[14:12:46] <_nickel> rwaldron: thats ok, he can treat me just as he normally would :D
[14:13:20] <rwaldron> well, if thats the case you'll probably get a gift basket and a warm blanket with hot cocoa
[14:13:33] <_nickel> ajpiano: we're using the widget triggered create for loading our widgets to that they are decoupled
[14:14:23] <_nickel> "loading widgets" means enhancing markup etc
[14:14:34] <ajpiano> _nickel: the point of create and init being separate is so that they are separate events...
[14:14:45] <ajpiano> having create fire init wouldn't make sense
[14:14:57] <_nickel> ajpiano: it call init?
[14:15:00] <_nickel> and init is undef
[14:15:14] <_nickel> err rather a noop
[14:15:18] <ajpiano> right
[14:15:25] <ajpiano> by default, it is
[14:15:37] <ajpiano> the idea is for create to be the first time only, once
[14:15:53] <ajpiano> init is for anytime widget method is called
[14:16:13] <_nickel> ajpiano: including property/method calls?
[14:16:21] * _nickel goes to look at the code?
[14:16:23] <_nickel> -?
[14:16:41] <ajpiano> no
[14:16:49] <ajpiano> on subsequent calls to say .dialog()
[14:16:59] <_nickel> it sees theres an instance and skips
[14:17:03] <_nickel> found the spot in the code
[14:17:04] <ajpiano> not on .whatever("method")
[14:17:07] <ajpiano> yep
[14:17:09] <_nickel> cool
[14:17:17] <_nickel> so _init is what we want
[14:17:21] <ajpiano> no
[14:17:25] <ajpiano> _create is what you want
[14:17:32] <_nickel> I get that
[14:17:50] <_nickel> hmm
[14:18:04] <ajpiano> for setting things up the first time, you want _create
[14:18:15] <ajpiano> you'd only want an init method in very speciic circumstances
[14:18:19] <_nickel> right but we need to provide our users a way to know when the widget has run its create
[14:18:52] <_nickel> for which you might *normally* bind to `widgetcreate`
[14:19:12] <_nickel> but given that we're binding to that for the purpose of running our own widgets over a jqm page
[14:19:24] <_nickel> it makes it extremely timing sensitive
[14:20:08] <_nickel> ajpiano: jqm works by binding all its widgets to 'pagecreate'
[14:20:13] <_nickel> so when the page widgets are created
[14:20:19] <_nickel> the widgets can have their turn
[14:20:23] <ajpiano> you could give all your widgets an _init: function() { this._trigger( "init" ); }
[14:20:32] <_nickel> ajpiano: !
[14:20:36] <_nickel> you and I are thinking alike now
[14:20:46] <_nickel> ajpiano: https://github.com/johnbender/jquery-mobile/commit/03591d21bdcba1af43e7bcf9f09afc0934ab08d7
[14:20:53] <ajpiano> ya now i understand what you need... "after create has happened" callback
[14:21:00] <_nickel> ajpiano: yes!
[14:21:06] <_nickel> sorry I'm terrible at explaining :(
[14:21:16] <_nickel> hence the 'aftercreate'
[14:21:29] <_nickel> the downside there is that if authors want to extend the jquery mobile widget they have to juggle our init
[14:22:13] <_nickel> and even though we vendor a copy of the ui widget I want to be able to pull in the changes you guys make whenver without fear that I'll be removing my own patches
[14:22:14] <ajpiano> you could have all your widgets inherit from a base widget
[14:22:16] <_nickel> etc
[14:22:16] <ajpiano> that defines the init
[14:22:50] <ajpiano> and then that init will get called
[14:23:02] <ajpiano> but that might only work on 1.9 where it invokes super methods
[14:23:04] <ajpiano> by default
[14:26:39] <_nickel> ajpiano: that was going to be my question is does it preserve the original behaviour
[14:26:47] <_nickel> I'm thinking in terms of vanilla js objects
[14:27:01] <_nickel> ajpiano: hrm
[14:27:08] <ajpiano> it would work nice on 1.9 but not on 1.8 i believe
[14:27:09] <_nickel> so now I'm stuck wondering if we should upgrade
[14:27:17] <ajpiano> well 1.9 isn't out yet
[14:27:21] <_nickel> ah
[14:27:22] <ajpiano> so ... its a bind
[14:27:27] <_nickel> blarg!
[14:27:28] <_nickel> well
[14:27:47] <_nickel> I could just assume that we'll upgrad in the future I don't think anyone is extending the widget right now
[14:27:47] <ajpiano> you should talk to scott if you can
[14:27:55] <_nickel> gonzales?
[14:27:57] <ajpiano> yea thats a practical point
[14:27:58] <ajpiano> yea
[14:28:01] <_nickel> cool
[14:28:09] <_nickel> thanks for you help though I very much appreciate it
[14:28:13] <ajpiano> np
[14:28:20] <_nickel> I realize its a somewhat wonky use case
[14:28:24] <ajpiano> _nickel:  did you ever previously go by
[14:28:28] <ajpiano> nickelnick or webnickel
[14:28:31] <_nickel> nope
[14:28:33] <ajpiano> ahh ok
[14:28:38] <ajpiano> thats why i was bein a bit curt
[14:28:39] <ajpiano> :p
[14:28:44] <_nickel> especially not if that guy/gal was a douche
[14:28:46] <_nickel> :D
[14:28:48] <_nickel> no worries
[14:28:55] <ajpiano> :)
[14:28:56] <_nickel> I did the annoying user who stops in thing anyway
[14:28:57] <_nickel> hhah
[15:08:24] <_nickel> ajpiano: is there an easy way to reference the super when defining a new widget?
[15:08:29] <_nickel> ajpiano: you know what
[15:08:33] <_nickel> I need to look at the docs again
[15:08:34] <_nickel> brb
[15:08:46] <ajpiano> ok
[15:09:54] <_nickel> ajpiano: ok the docs example seems to suggest using the $.Widget.prototype
[15:10:11] <ajpiano> yes, that's how you call methods on parent widgets in 1.8
[15:10:14] <_nickel> we're going to decorate the create function to add our init callback
[15:10:22] <_nickel> ajpiano: cool sorry for the lazy question :(
[15:10:27] <ajpiano> in 1.9 you can do like this.super("whatever")
[15:10:29] <ajpiano> np
[15:10:37] <ajpiano> glad to just be helpin you guys push along :)
[15:15:45] <_nickel> ajpiano: its much appreciated
[15:16:05] <_nickel> public api tends to saddle you with pain in the future so I want to make sure we're getting this right
[15:16:37] <_nickel> especially events
[15:16:55] * _nickel notes that events are touchy with regard to ordering etc
[15:17:01] <ajpiano> yeah for real
[15:17:10] <ajpiano> i agree with decorating create
[15:17:14] <ajpiano> instead of touching init at all
[15:17:34] <_nickel> ajpiano: I'll link the commits here when I finish in a minute
[15:17:35] <ajpiano> becuase you're trying to say that "the content of what we said creation consitutes is done" not... some other event has fired
[15:17:42] <_nickel> yessir
[15:17:58] <_nickel> ajpiano: well
[15:18:09] <_nickel> ajpiano: we decided for _trigger( 'init' )
[15:18:17] <_nickel> because it is post init
[15:18:49] <ajpiano> hm
[15:18:53] <ajpiano> why not "created"
[15:18:56] <ajpiano> i understand why init
[15:19:01] <ajpiano> but just to reduce ambiguity?
[15:19:07] <_nickel> yes
[15:19:14] <ajpiano> something that's more specifc to jqm would be nice
[15:19:21] <_nickel> and because it more closely adhears to the widget methods/lifecycle
[15:19:41] <_nickel> ajpiano: namespacing might be a good idea
[15:19:47] <_nickel> I'll have to think about that
[15:30:39] <gnarf> ajpiano: this._super(
[15:30:45] <ajpiano> orite
[15:30:46] <ajpiano> that
[15:32:18] <gnarf> ajpiano: you should peek at timepicker
[15:32:31] <gnarf> ajpiano: thats a fun one... it totally rapes spinner and mask :)
[15:32:40] <ajpiano> linkzor
[15:33:32] <gnarf> https://github.com/jquery/jquery-ui/blob/mask/ui/jquery.ui.timepicker.js
[15:35:49] <gnarf> i kinda love WF
[15:36:04] <gnarf> $.extend'n the actual instance is pretty badass
[15:36:05] <ajpiano> aww nothin in 'demos' yet :D
[15:36:10] <gnarf> visual test
[15:36:12] <gnarf> has it
[15:36:32] <gnarf> http://view.jqueryui.com/mask/tests/visual/timepicker/timepicker.html
[15:36:43] <ajpiano> aha yea there
[15:38:08] <gnarf> still needs a demos page
[15:38:14] <gnarf> but i think units come irst
[15:38:20] <gnarf> and mask still needs a demo page too :)
[15:45:21] <gnarf> and _nickel sorry to be afk during that whole UI WF conversation - but can you do something like var jqmInit = { _init: function() { this._trigger("init"); this._super("_init"); } }; $.widget("jqm.button", $.ui.button, jqmInit }; and just decorate all your widgets (also requires 1.9 i guess but-an idea)
[15:46:57] <gnarf> rwaldron - sigh.... :)
[15:57:57] <gnarf> hey timmywil you around?
[15:58:01] <gnarf> wow
[15:58:05] <gnarf> timing....
[15:59:37] <gnarf> https://github.com/gnarf37/jquery/commit/d85029435ba1f604b4405130b9da52bccf05180d is totally cherry-pickable
[16:46:08] <gnarf> anyone have an opinion here - looking for a good solution for docs#8498 https://gist.github.com/1220819
[16:46:09] <bot-t> [#8498] Animate Hooks (assigned feature) - http://jqbug.com/8498
[16:46:31] <gnarf> that cssHooks[ property ].expand()
[16:46:37] <gnarf> even works with "10px 100px"
