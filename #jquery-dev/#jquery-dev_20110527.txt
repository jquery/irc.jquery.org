[00:57:39] <matjas> anyone familiar with this kind of QUnit error message? http://i.imgur.com/gKwyR.png
[00:57:44] <matjas> `Source: at Object` WAT
[00:58:23] <matjas> code Iâ€™m using (I donâ€™t see any mistakes): http://paste.pocoo.org/raw/ilTGjUbnyW3LzWsnp8Wc/
[02:04:18] <matjas> jzaefferer: thanks for pulling that in
[02:07:04] <jzaefferer> matjas: thanks for the patch
[02:07:43] <jzaefferer> as for the failing test: use deepEqual to compare non-scalar values
[02:07:56] <jzaefferer> the two arrays are different instances, therefore equal fails
[02:08:11] <jzaefferer> same content, but different indentity
[02:12:27] <matjas> yeah but then still it throws
[02:12:30] <matjas> jzaefferer: see http://benchmarkjs.com/tests?notrycatch=true
[02:13:39] <matjas> I know `equal` should fail and `deepEqual` should work, but either way it shouldnâ€™t throw an error, right?
[02:18:48] <matjas> is this a bug in QUnit or am I doing something very very wrong here? :)
[02:23:20] <jzaefferer> afaik that's all correct
[02:23:38] <jzaefferer> equl fails, therefore QUnit ouputs part of the stack to show you what assertion just failed
[02:23:57] <jzaefferer> at least in Chrome it looks good
[02:24:16] <matjas> on the page i linked to iâ€™m using deepEqual
[02:24:58] <matjas> http://benchmarkjs.com/_js/tests.js
[02:26:28] <jzaefferer> okay, that's weird
[02:31:34] <matjas> let me know if you have any ideas :) starting to doubt my sanity here
[03:03:26] <jzaefferer> btw. as mentioned on Monday, JohnResig, DaveMethvin, I talked to Chad Killingsworth, about jQuery and Closure Compiler. Also asked him to join next meeting, he said: "Alan Leung from Google and myself are planning on joining the June 6 meeting for jQuery core."
[03:04:13] <jzaefferer> so please plan in a bit of time to talk with them - if the Closure Compiler team knows that the jQuery team is interested in getting Advanced mode to work with jQuery, they'll be more interested in making that a priority
[07:02:34] <realzies> hey fellas
[07:02:50] <realzies> I am making an attempt at implementing the DOM in v8
[07:03:02] <realzies> and I want to use jquery to test it
[07:26:32] <walkingeyerobot> advanced mode in closure compiler for jquery would be amazing
[10:07:41] <rwaldron> danheberden you're so diplomatic
[10:08:07] <danheberden> rwaldron i try :)
[10:08:14] <rwaldron> i was about to respond to this: https://github.com/jquery/jquery/pull/392#issuecomment-1248992
[10:08:15] <rwaldron> with...
[10:08:28] <rwaldron> @Xavi- nope, I don't
[10:08:31] <danheberden> haha
[10:08:35] <rwaldron> but I wont
[10:08:35] <danheberden> i was gonna guess "no"
[10:09:00] <danheberden> i know part of it is i hate/loath the arguments object
[10:09:11] <danheberden> but yeah, i'm trying to say no in a nice way
[10:09:22] <danheberden> he seems like a smart person, just a bit to into the details
[10:10:16] <rwaldron> basically, i think you and DaveMethvin are being too kind
[10:10:18] <rwaldron> sorry
[10:10:45] <rwaldron> he's trying to get a behaviour, that meets his own lazy needs, into the core
[10:10:47] <danheberden> rwaldron that might be true - but if it's someone that _can_ provide contributions to the project; i'd rather not hurt their feelings right off teh bat
[10:10:54] <danheberden> ya, he's misguided
[10:10:55] <rwaldron> its like, bro... test || ""
[10:11:02] <danheberden> but, then, so was I when i got into all of this
[10:11:11] <danheberden> and now i've learned the ways of the javascript jedi
[10:11:16] <rwaldron> who said anything about feelings?
[10:11:28] <danheberden> rwaldron i think i did :p
[10:11:56] <danheberden> like - maybe core isn't where he's good at, but maybe he can help out somewhere else
[10:12:03] <rwaldron> instead of trying to learn from the information that three people have offered, he'd rather argue that he's right and we're fucked.
[10:12:25] <rwaldron> I had suggested test || "" days ago
[10:12:41] <rwaldron> and he was like... well i'd prefer test + "" because its one less character
[10:12:53] <rwaldron> its like, ok... whatever... that does something totally different
[10:13:02] <rwaldron> then DaveMethvin offered him the same suggestion that i did
[10:13:08] <rwaldron> we are not nuts
[10:13:14] <danheberden> no, not at all
[10:13:24] <danheberden> we, you, are correct
[10:13:30] <rwaldron> ya know what I don't _ever_ do
[10:13:53] <rwaldron> walk into someone's house and tell them they've decorated it all wrong
[10:14:03] <danheberden> i'm just trying to speak in a kind way for the sake of a) not destroying his zeal to contribue b) make others think if they have an opinion we'll run all over them
[10:14:19] <rwaldron> lately I've been reading and trying to participate in the es-discuss threads
[10:14:26] <danheberden> rwaldron true, but you'll also go into someone's js function and do that
[10:14:39] <danheberden> for some ( read: me when i first started) that's a hard thing to accept
[10:14:42] <danheberden> take properly
[10:14:43] <rwaldron> and its hard when people that make decisions about the language are giving examples that are fucked up and wrong
[10:14:46] <danheberden> of course, now, i love it
[10:14:59] <rwaldron> regardless, I don't try to correct them
[10:15:04] <DaveMethvin> xavi isn't wrong, just coming at it from another viewpoint
[10:15:06] <rwaldron> but i do ask questions
[10:15:15] <rwaldron> and try to understand why they are doing what they are doing
[10:15:21] <DaveMethvin> so it's not like we have a binary choice
[10:15:37] <danheberden> rwaldron exactly - which is why the bugs team rocks so effing hard
[10:15:41] <rwaldron> most of the time it turns out that the people that are designing JS dont really know how to use it well
[10:15:41] <DaveMethvin> but it would be nice to have the api be consistent and not encourage bad practices
[10:15:44] <rwaldron> but i dont tell them that
[10:16:00] <DaveMethvin> like accepting nearly any parameter and quietly doing something with it
[10:16:08] <DaveMethvin> even if that something is nothing :)
[10:16:23] <danheberden> oh noes, DaveMethvin you're not a undefined convert, are you?
[10:16:29] <danheberden> rick, get the holy water
[10:16:33] <DaveMethvin> lol
[10:16:38] <danheberden> we need to TAKE THESE DEMONS OUT
[10:16:41] <DaveMethvin> no, it's more like i'd prefer to do LESS magic
[10:17:00] <DaveMethvin> i am not a fan of the "hover" event for example, which is simply "mouseenter mouseleave"
[10:17:14] <DaveMethvin> we hardly saved any chars and just created our own magic event
[10:17:25] <DaveMethvin> the same with .bind("click", null)
[10:17:34] <rwaldron> guh
[10:17:42] <danheberden> rwaldron on the note about js/feedback - i agree with you about people motives; i just think it doesn't hurt to try to teach/show/disagree with kindness, even if they're being dipshits/rude about it
[10:17:42] <rwaldron> its actually false DaveMethvin
[10:17:48] <rwaldron> null and undef wont work there
[10:17:49] <danheberden> i'm not asking that be _your_ style, not at all
[10:17:52] <DaveMethvin> no that's a differnet case rwaldron
[10:18:05] <danheberden> just hard when i feel like any response made reflects the project as a whole
[10:18:12] <rwaldron> DaveMethvin oh, whaaaa?
[10:18:15] <danheberden> and someone really smart, sensible, whatever - reads that and gets put off
[10:18:17] <rwaldron> yikes
[10:18:18] <DaveMethvin> what do you mean null won't "work", it doesn't throw an error :P
[10:18:24] <rwaldron> OHHHH
[10:18:26] <rwaldron> ok, yes yes
[10:18:31] <rwaldron> i get what you're saying
[10:18:35] <rwaldron> yeah i wrote that patch
[10:18:43] <DaveMethvin> and we specifically check for it
[10:18:45] <DaveMethvin> and do nothing
[10:18:57] <rwaldron> because when false was added as a shorthand returnFalse
[10:18:58] <DaveMethvin> so that's "something"
[10:19:08] <rwaldron> nitwits immediately decided to use null and undefined
[10:19:14] <rwaldron> and then cried when it broke
[10:19:17] <DaveMethvin> and now we are forward-committed to having .bind("click", null) do nothing
[10:19:26] <rwaldron> yeah
[10:19:37] <rwaldron> that was like, the first bug i accepted
[10:19:41] <danheberden> but y'all agree undefined is a different boat than null/false ya?
[10:19:47] <rwaldron> danheberden obvs
[10:19:52] <danheberden> whew
[10:19:54] <rwaldron> null is something, as is false
[10:19:59] <danheberden> ya
[10:19:59] <rwaldron> undefined is nothing
[10:20:13] <DaveMethvin> it's like, we make these little decisions every day and sometimes they turn out to be in philosophical opposition
[10:20:15] <danheberden> that's what i was trying to say, and i don't think that Xavi sees it that way
[10:20:26] <timmywil> this is all kinda moot in my mind.  pass "undefined", "null", and "false"
[10:20:29] <danheberden> DaveMethvin well everyone will always have an opinion or big reason against it
[10:20:32] <DaveMethvin> like danheberden, now .val(undefined) ==> .val("") and is chainable
[10:20:56] <rwaldron> ugh
[10:21:03] <rwaldron> thats sooo weird
[10:21:05] <danheberden> then this pull req should be to fix val, lol
[10:21:09] <DaveMethvin> should it be? i dunno, but john mentioned it in that thread xavi linked
[10:21:10] * danheberden is so funny
[10:21:47] <DaveMethvin> so .val(null) is like .bind("click", null) we must forever support it or incur the wrath of back-compat gods
[10:22:36] <danheberden> at least null has to be passed
[10:22:49] <DaveMethvin> like i said in that thread, i think undefined is a bad thing to silently allow
[10:22:57] <danheberden> and while my example was a bit far-fetched, if people are going to rely on undefined
[10:23:02] <danheberden> they might just rely on the other possibility
[10:23:08] <danheberden> that undefined would trigger a non-existance
[10:23:22] <danheberden> its just too ambiguous
[10:23:37] <timmywil> so what if back-compat was not an issue anywhere?  maybe someone should make a separate repo that has everything we ever wanted.  No more "I wish we did that in the beginning"
[10:24:05] <rwaldron> timmywil sounds lofty
[10:24:07] <DaveMethvin> timmywil: yeah but nobody would use it!
[10:24:13] <timmywil> hehe
[10:24:14] <danheberden> timmywil heh, "jquery pro editionâ„¢"
[10:24:14] <rwaldron> what he said ^^
[10:24:21] <timmywil> I would :)
[10:24:27] <danheberden> ya, it'd be just for us
[10:24:40] <rwaldron> jQuery "Not Design-By-Committee" Version
[10:24:44] <danheberden> "sorry, i couldn't reproduce your bug with my better version of jquery and my sensible code"
[10:24:50] <timmywil> lol
[10:25:01] <rwaldron> danheberden ahahahahaah +9001
[10:25:06] <DaveMethvin> that's why seemingly simple changes can have ripple effects, like once you allow a getter/setter function in a few apis people want them in ALL apis and there's measurable code required to do that
[10:25:15] <danheberden> rwaldron there's design by committee, and there's omg we have to worry about this one bad feature/mistake we made in 2008"
[10:25:44] <rwaldron> yeah, i thought i had a good argument
[10:25:45] <rwaldron> i dont
[10:26:08] <danheberden> proquery?
[10:26:11] <timmywil> jQuery version: breaks shit on purpose
[10:26:12] <danheberden> eh? eh?
[10:26:26] <DaveMethvin> timmywil: and that is differnet from our normal release ... how?
[10:26:29] <DaveMethvin> :)
[10:26:32] <danheberden> ziiiing
[10:26:38] <DaveMethvin> ba dum pum
[10:27:17] <DaveMethvin> i do think it's okay to break some things but we need to give notice
[10:27:27] <DaveMethvin> and have a decent reason of course
[10:27:31] <danheberden> well - we have to deal with old crap; but i'll take the oppurtunity to say y'all have been doing some amazing, amazing shit
[10:27:38] <danheberden> DaveMethvin timmywil rwaldron ^^
[10:28:03] <rwaldron> thanks broseph
[10:28:09] <rwaldron> yourself included
[10:28:17] <DaveMethvin> inspiration: http://blogs.forbes.com/carminegallo/2011/05/16/steve-jobs-get-rid-of-the-crappy-stuff/
[10:28:20] <danheberden> heh, i just try to calm down the villiage idiots
[10:28:35] <danheberden> that make pulls against $.map }:|
[10:28:42] <danheberden> haha, that one still makes me mad
[10:29:10] <timmywil> danheberdenL thanks!
[10:29:15] <timmywil> L = :
[10:31:25] <rwaldron> danheberden ya happy?
[10:31:25] <rwaldron> https://github.com/jquery/jquery/pull/395
[10:31:31] <rwaldron> i'm not a dick
[10:31:37] <rwaldron> i never start off being a dick
[10:31:52] <kswedberg> rwaldron: that sounds like Richard Nixon.
[10:32:02] <kswedberg> "I am not a dick!"
[10:32:03] <kswedberg> :D
[10:32:07] <rwaldron> but stubborn idiocy deserves a dick response.
[10:32:16] <rwaldron> kswedberg haahhahaha
[10:39:28] <danheberden> rwaldron you are not a dick, not at all
[10:51:27] <rwaldron> timmywil or DaveMethvin https://github.com/jquery/jquery/pull/395 this is good stuff
[10:51:39] <rwaldron> i just reviewed it and ran in all supported browsers
[10:52:06] <DaveMethvin> yeah i saw that ticket earlier and agree we shouldn't be catching the error in the handler
[10:52:27] <rwaldron> yeah, homeboy patched and provided testsd
[10:52:29] <rwaldron> tests*
[10:52:32] <rwaldron> so, win.
[10:53:59] <timmywil> cool
[10:54:06] <timmywil> DaveMethvin: you have pulley yet?
[10:54:28] <DaveMethvin> no, i lost my drive on my notebook and was having some probs with the makefile setup
[10:54:53] <rwaldron> bummer
[10:54:58] <timmywil> ow
[10:55:08] <rwaldron> DaveMethvin last night one of my disk drives started making grindy noises
[10:55:20] <rwaldron> on my work stateion machine at home
[10:55:20] <DaveMethvin> er, that's not good
[10:55:40] <rwaldron> then i tried to open a terminal and all the mount points were gone :(
[10:56:49] <DaveMethvin> interesting q in pull 395 about $.contains,
[10:57:37] <rwaldron> that _is_ interesting
[11:00:41] <timmywil> that'll work unless this is the document or window
[11:00:51] <timmywil> which contains doesn't do
[11:01:53] <timmywil> across browsers anyway
[11:02:18] <timmywil> but could speed up checking other elements
[11:25:51] <rwaldron> DaveMethvin yt?
[11:25:59] <DaveMethvin> yep
[11:26:02] <rwaldron> this contains vs within thing is interesting
[11:26:23] <rwaldron> there is a test that will produce an undefined parent
[11:26:49] <rwaldron> wait
[11:27:07] <rwaldron> no nevermind
[11:27:16] <rwaldron> ok, so the issue still stands
[11:27:46] <rwaldron> Sizzle.contains throws errors if the parent is undefined
[11:28:30] <DaveMethvin> withinElement is a very troublesome piece of code because of several special cases it wants to work aroudn
[11:28:34] <DaveMethvin> aroun*
[11:28:40] <rwaldron> if ( !parent ) { //outta here } is no good
[11:28:45] <rwaldron> right
[11:28:48] <DaveMethvin> yep
[11:28:57] <DaveMethvin> thats a bug that needs to be fixed in 1.6.2
[11:29:18] <rwaldron> hm
[11:29:22] <DaveMethvin> getting the handle.apply out of the try/catch is good
[11:29:23] <rwaldron> well...
[11:29:25] <rwaldron> dig this
[11:29:52] <rwaldron> ugh
[11:29:54] <rwaldron> nevermind
[11:30:08] <rwaldron> i got half way through typing and realized my error.
[11:30:22] <DaveMethvin> i wasn't able to figure out how to automate any of these tests either
[11:30:33] <DaveMethvin> so it's like a lot of mousing around in fiddles
[11:30:39] <rwaldron> yeah
[11:30:46] <rwaldron> what if.
[11:31:01] <rwaldron> jQuery.contains gets defined differently?
[11:31:32] <rwaldron> to have a condition about undef args
[11:31:35] <rwaldron> ?
[11:32:11] <DaveMethvin> oh yeah, NOW you LIKE the idea of checking for undefined args :P
[11:32:20] <rwaldron> um
[11:32:22] <rwaldron> the right way
[11:32:34] <rwaldron> as in, if undefined, dont try to do stuff
[11:32:37] <rwaldron> i'
[11:32:39] <rwaldron> ack
[11:32:41] <DaveMethvin> well you can always check before the call as well
[11:32:43] <rwaldron> i'm over that idea anyway
[11:32:51] <rwaldron> yeah, thats where I'm at
[11:33:40] <DaveMethvin> so that bug you dug up, it works around a problem in some obscure browser by just having contains return false
[11:33:44] <DaveMethvin> in sizzle
[11:33:53] <rwaldron> fair enough
[11:34:03] <DaveMethvin> i am not sure why we do that, why not just error out if we can't give the answer
[11:34:12] <DaveMethvin> since it's an unsupported browser afaict
[11:34:17] <rwaldron> i didnt want them to fall down a rabbit hole if i could help it
[11:34:41] <rwaldron> if parent is undefined
[11:34:42] <DaveMethvin> well we could implement $.contains to do what withinElement does
[11:34:58] <rwaldron> its safe to say that "this" isnt inside it
[11:35:38] <rwaldron> all of the conditions are actually only evaluated as true when parent is truthy
[11:35:44] <DaveMethvin> i can't remember all the special cases, but one is where you have an element abutting the browser chrome ... does relatedElement return undefined for that case?
[11:35:57] <rwaldron> yeah
[11:36:06] <rwaldron> i think thats the test I'm battling
[11:36:11] <DaveMethvin> yeah
[11:36:34] <rwaldron> turns out that nothing is done about it
[11:36:46] <rwaldron> except to check if parent !== this
[11:36:52] <rwaldron> which it obviously isnt
[11:36:52] <DaveMethvin> which is fine
[11:37:01] <DaveMethvin> because undefined is not equal
[11:37:29] <rwaldron> we shold check with Xavi
[11:37:57] <DaveMethvin> so basically, if relatedtarget is undefined OR $.contains(this, relatedTarget), call the handler
[11:39:12] <rwaldron> thats where I was.
[11:39:17] <rwaldron>  Maximum call stack size exceeded
[11:39:29] <rwaldron> Stack OVerflow
[11:39:35] <DaveMethvin> well either that's wrong or you need a bigger call stack :)
[11:39:46] <rwaldron> hahahahahahahahahahahah
[11:40:03] <DaveMethvin> oh, !$.contains
[11:40:38] <DaveMethvin> parent is a really crappy name for that var btw
[11:41:08] <rwaldron> what would you call if you had the chance to change it?
[11:41:29] <DaveMethvin> i think the var goes away doesn't it?
[11:41:45] <rwaldron> it could
[11:41:52] <DaveMethvin> or you could call it related
[11:45:10] <rwaldron> DaveMethvin this seems silly
[11:45:24] <rwaldron> because to avoid explosion, we still ahve to support all these hacks
[11:45:40] <DaveMethvin> i have no idea whether these hacks are still needed
[11:45:53] <DaveMethvin> i know the one for chrome just plain doesn't work
[11:46:20] <DaveMethvin> the ff one may not be needed if we send the node to compareDocumentPosition
[12:12:12] <eddiemonge> whats the difference between doing  .attr('data-property', value) and data('property', value)?
[12:13:21] <DaveMethvin> eddiemonge: a bunch of things
[12:13:51] <DaveMethvin> the first gets the current value of the attr as a string, the second gets the "cached" value after being converted to some type
[12:14:14] <DaveMethvin> so if the data-property="42" the .data will give you number 42
[12:14:34] <DaveMethvin> but the attr will give you "42"
[12:15:31] <DaveMethvin> if the attr is "42.00000" the data will give you number 42
[12:15:37] <eddiemonge> but thats a a getter right, not as a setter?
[12:15:58] <DaveMethvin> as a settter there are a bunch of other diffs
[12:16:07] <DaveMethvin> settting the .data does NOT set the attr
[12:16:58] <DaveMethvin> so the getting for .data is one way, one time only
[12:17:14] <DaveMethvin> once it gets something from a data attribute, .data never looks again
[12:17:27] <DaveMethvin> and it never sets the data attribute
[12:17:54] <eddiemonge> hmm. darn. ok thanks. guess that code isnt getting refactored by me today then
[12:18:27] <DaveMethvin> lol
[12:18:33] <DaveMethvin> not unless you want a REAL challenge
[12:18:44] <DaveMethvin> i think we went WAYYY too magical on .data
[12:19:42] <eddiemonge> i was looking at lines 50-51 of https://github.com/jquery/jquery-mobile/blob/master/js/jquery.mobile.dialog.js    off topic here i know but it was a jq core question
[12:20:57] <rwaldron> DaveMethvin we support numbers now
[12:21:06] <rwaldron> no i lied
[12:21:11] <rwaldron> forget i said anything
[12:21:16] * rwaldron runs away
[12:21:55] <DaveMethvin> yeah, mobile uses data attrs heavily but you have to be careful because .data only looks at data- atts if there isn't already a value in the data cache
[12:22:08] <DaveMethvin> so changing the attr won't change the data
[12:23:22] <eddiemonge> and i wish i could convert those two attr calls into one
[12:24:41] <DaveMethvin> oh yeah since the attr names aren't constant you can't pass an object
[12:25:12] <eddiemonge> stupid js and its stupid broken rules
[12:25:47] <DaveMethvin> you could create an object and assign two properties, dunno if that would be faster
[12:25:50] <eddiemonge> arr['str'+var] = value;  is ok but arr = { 'str'+var: value }; isnt
[12:26:00] <DaveMethvin> but it would be uglier :)
[12:26:58] <DaveMethvin> so eddiemonge are you just doing some general cleanup, or trying to fix a specific perf issue?
[12:27:31] <eddiemonge> umm yes
[12:27:45] <DaveMethvin> https://github.com/jquery/jquery-mobile/blob/master/js/jquery.mobile.dialog.js#L39
[12:27:55] <eddiemonge> general cleanup: https://github.com/jquery/jquery-mobile/pull/1724  here but that line just bugs me
[12:27:58] <DaveMethvin> 39-45 can be done in one line
[12:28:08] <eddiemonge> yeah did that already
[12:28:15] <DaveMethvin> :)
[12:31:51] <DaveMethvin> eddiemonge: it woudl save a lot of space if there was a global  jqmDataPrefix = "data-" + $.mobile.ns
[12:32:37] <DaveMethvin> it's used four times in this one file alone
[12:33:38] <eddiemonge> hmm yeah. want to go through and do that? or should i suggest it to the team?
[12:34:13] <DaveMethvin> maybe a setDataAttr() helper too or instead, that would shorten .attr("data-" + $.mobile.ns + "direction", "reverse") to 	.setDataAttr("direction", "reverse");
[12:34:53] <DaveMethvin> prolly want to coordinate with everyone doing the code to see if you can establish a convention
[12:35:41] <DaveMethvin> only warning would be that currently it will grab changes to $.mobile.ns as they are made, but i would think it's not valid to change that after the page initializes
[12:37:03] <danheberden> maybe i should just start closing those pull requests instead of getting into debates with the requesters, haha
[12:37:32] <eddiemonge> DaveMethvin: thanks. copied your notes to jquerymobile-dev
[12:37:38] <eddiemonge> danheberden: then wheres the fun?
[12:38:18] <danheberden> at my therapist visits :/
[12:38:33] <DaveMethvin> danheberden: i thought the only change to arguments was that it became a real array in ES5
[12:38:50] <DaveMethvin> also you can't change argument elements in ES5 strict mode
[12:39:40] <danheberden> yeah - eich has made a few comments about it going away, but perhaps he was being really specific about 'object'
[12:39:45] <danheberden> though i thought that was post es5
[12:39:57] <rwaldron> DaveMethvin i think the docs are backwards
[12:39:58] <danheberden> so maybe .length is the way to go
[12:40:10] <rwaldron> jQuery.sizzle
[12:40:14] <rwaldron> nope
[12:40:21] <rwaldron> i didnt mean to type that at all
[12:40:38] <DaveMethvin> bad fingers, bad!
[12:40:41] <rwaldron> jQuery.contains/Sizzle.contains was what I meant
[12:40:54] <rwaldron> wait no
[12:41:17] <rwaldron> ok, i think i might have this
[12:41:46] <danheberden> $.expr.filters.Contains?
[12:42:03] <DaveMethvin> thats the string contains function
[12:42:23] <DaveMethvin> $.contains/Sizzle.contains is the "node a contains b" one
[12:42:47] <danheberden> oh i didn't know that one was Sizzle
[12:42:52] <DaveMethvin> perhaps we should refer to the latter as "yo momma" for clarity
[12:42:59] <danheberden> lol
[12:43:25] <DaveMethvin> although it's more like heritage of any sort
[12:48:45] <rwaldron> DaveMethvin full pass
[12:49:09] <DaveMethvin> i thought bman was working on that, or did he just create the ticket?
[12:49:14] <rwaldron> i dunno
[12:49:25] <rwaldron> i just saw the ticket a second ago
[12:49:32] <rwaldron> but i've been working on it since you mentioned it
[12:49:36] <DaveMethvin> so whatsit look like, is it shorter and cleaner?
[12:49:38] <rwaldron> whatever
[12:50:08] <rwaldron> no, longer... slower... I had to getScript prototype.js
[12:50:09] <rwaldron> :P
[12:50:14] <DaveMethvin> lol
[12:50:34] <DaveMethvin> can you think of some better way to test it?
[12:50:55] <rwaldron> i dunno
[12:50:58] <rwaldron> my head is tired
[12:51:26] <DaveMethvin> maybe we can get bman to figure out a better way to test
[12:51:32] <DaveMethvin> other than mousing the heck out of some test page
[12:51:58] <rwaldron> i was discussing an imaginary couchdb query language with damien katz
[12:52:13] <rwaldron> parsing, lexing, tokenizing in your head is hard work.
[12:52:37] <rwaldron> i have an idea
[12:54:15] <DaveMethvin> rwaldron: http://bugs.jquery.com/ticket/5631
[12:54:41] <DaveMethvin> that was the bug we were trying to work around I guess
[12:55:31] <rwaldron> DaveMethvin am I on the right track here... http://jsfiddle.net/rwaldron/pBQEd/6/
[12:55:33] <DaveMethvin> snover closed http://bugs.jquery.com/ticket/4469 as worksforme, don't know if that was because of the patch that was in there or because firefox fixed it
[12:56:59] * rwaldron shrugs
[12:59:24] <DaveMethvin> i just tried your demo with ff4 and firebug open, when i mouse out to the firebug window it gives relatedTarget null so i think FF4 must have fixed the bug
[13:00:35] <DaveMethvin> relatedTarget is null in ff 3.6 as well
[13:00:47] <DaveMethvin> i think that hack in withinElement is not needed
[13:06:19] <rwaldron> DaveMethvin i need help re-configuring my thinking
[13:06:25] <rwaldron> i thik i have my head turned around
[13:06:31] <rwaldron>  // handle event if we actually just moused on to a non sub-element
[13:09:11] <DaveMethvin> yeah it's actually onto or off of, right?
[13:09:51] <rwaldron> oh man
[13:09:53] <rwaldron> i got it
[13:09:55] <rwaldron> and i got it right
[13:10:06] <rwaldron> DaveMethvin http://jsfiddle.net/rwaldron/pBQEd/11/
[13:10:21] <rwaldron> that trigger shouldnt do anything
[13:11:21] <rwaldron> but if you mouse into the black box, event fired. continue into the red box, no event. out of the red box, no event. out of the black outline, event fired.
[13:12:06] <DaveMethvin> right
[13:12:13] <rwaldron> awesome
[13:12:18] <rwaldron> thats using my patch
[13:12:30] <DaveMethvin> the event is bubbbling out of the inner elements but we only want to fire if its our element
[13:12:38] <DaveMethvin> made the code a lot shorter too
[13:12:38] <rwaldron> it is?
[13:12:47] <rwaldron> it shouldnt be
[13:13:10] <DaveMethvin> its working right, that's what i was saying
[13:13:13] <rwaldron> shit
[13:13:14] <rwaldron> it is
[13:13:25] <rwaldron> ugh
[13:13:26] <rwaldron> one sec
[13:13:38] <DaveMethvin> at least it worked for me
[13:13:48] <rwaldron> ok, allset
[13:14:08] <DaveMethvin> i think there's an unrelated bug here tho
[13:14:10] <rwaldron> the trigger _should_not_ bubble out
[13:14:18] <DaveMethvin> right it doesn't
[13:14:27] <DaveMethvin> because we don't trigger, we handle.apply
[13:14:43] <rwaldron> right, well just covering my bases and such
[13:15:11] <rwaldron> at one point in the life of this patch, only the inner box was triggering the event that was actually on the outer box
[13:15:13] <rwaldron> :\
[13:16:17] <DaveMethvin> hmmm, i think that event.type = event.data could be a problem
[13:16:38] <DaveMethvin> if there are any other handlers for mouseover attached to the element they'll get the mouseenter event instead
[13:17:08] <rwaldron> lemme add some other events
[13:17:09] <DaveMethvin> lemme check that
[13:18:29] <rwaldron> DaveMethvin confirmed here http://jsfiddle.net/rwaldron/pBQEd/15/
[13:19:03] <rwaldron> what the fuck
[13:19:13] <rwaldron> getting rid of that caused a stack overflow
[13:20:05] <DaveMethvin> http://jsfiddle.net/dmethvin/pBQEd/16/
[13:20:31] <DaveMethvin> if you attach mouseover events after mouseenter they get turned into mouseenter
[13:20:46] <DaveMethvin> the type DOES have to be changed but we need to change it back after delivering the mouseenter event
[13:22:58] <rwaldron> DaveMethvin refresh your fiddle
[13:23:14] <rwaldron> i've updated the dropbox copy
[13:23:35] <DaveMethvin> yay!
[13:24:41] <DaveMethvin> oh, but the assignment needs to be moved to just before the handle.apply rwaldron
[13:24:57] <DaveMethvin> otherwise it will change the event and only change it back if the handler fires
[13:25:22] <rwaldron> ah, got it
[13:27:36] <DaveMethvin> gotta run, bbl
[13:27:41] <rwaldron> ok
[13:41:29] <Michael> jzaefferer, are you around?
[13:42:51] <gnarf> rwaldron: have you had a chance to take your light-saber to jquery color? :)
[13:43:23] <rwaldron> no
[13:43:39] * Michael just road the new Star Tours yesterday :D
[13:43:44] <Michael> speaking of light sabers
[13:44:28] <gnarf> rwaldron: https://github.com/jquery/jquery-color
[13:45:56] <rwaldron> i cant right now
[13:46:31] <gnarf> rwaldron: add it to the pile
[13:46:32] <gnarf> ;)
[13:47:04] <gnarf> request from the birthday guy
[13:47:53] <rwaldron> happy birthday
[13:47:54] <rwaldron> how old
[13:48:12] <gnarf> 31
[13:48:23] <rwaldron> i'll be 30 in july
[13:48:38] <gnarf> 30 was a good year man
[13:48:54] <gnarf> i dunno about you, but i was kinda lookin forward to it
[13:49:03] <gnarf> it lived up to my expectations ;)
[13:49:35] <Michael> Welcome to 31
[13:52:32] <rwaldron> hey danheberden lets bike-shed `undefined` more please
[13:52:40] <rwaldron> this dude doesnt give up
[13:52:57] <rwaldron> at this point, i'm probably going to find him in Boston and kick him in the nuts
[13:53:00] <danheberden> ok - but if a baby panda gets punched, i can't be held responsible
[13:53:16] <gnarf> rwaldron: bikeshed undefined?
[13:53:26] <gnarf> danheberden: why have you left #jqueryui-dev ?
[13:53:29] <rwaldron> gnarf https://github.com/jquery/jquery/pull/392
[13:53:33] <gnarf> we've been talking about your sexiness
[13:53:38] <gnarf> and you aren't there to see it
[13:53:45] <danheberden> gnarf heh, what am i supposed to say "yes, i agree i'm sexy"
[13:53:47] <danheberden> haha - i'm in there :p
[13:53:48] <rwaldron> danheberden I'mn about to fucking hammer fall this shit
[13:54:00] <rwaldron> I closed the goddamn ticket as invalid when he filed it
[13:54:01] <danheberden> rwaldron i want to close it so bad
[13:54:46] <rwaldron> 2 committers have both agreed its not going to happen, you and I have supported that fact
[13:54:52] <rwaldron> this guy is just being a pest
[13:54:57] <rwaldron> timmywil yt?
[13:55:12] <timmywil> rwaldron: hey
[13:55:19] <rwaldron> https://github.com/jquery/jquery/pull/392
[13:55:22] <danheberden> rwaldron i'd like to hear from John or timmywil or jaubourg too
[13:55:29] <rwaldron> you agreed with DaveMethvin correct?
[13:55:56] <rwaldron> danheberden i thought timmywil had already discussed with us earlier today
[13:55:58] <gnarf> thats a really fn long PR
[13:56:11] <timmywil> yea -1
[13:56:14] <danheberden> hmm, maybe i was too busy raging
[13:56:23] <gnarf> TLDR?
[13:56:24] <danheberden> ok - three of us have -1'd then
[13:56:33] <gnarf> -1 GANG VOTE!
[13:56:36] <rwaldron> danheberden FOUR
[13:56:41] <timmywil> if you want undefined to be the text, pass .text("undefined")
[13:56:42] <rwaldron> DaveMethvin  is -1 too
[13:56:50] <danheberden> gnarf, he thinks fn.text( undefined ) should result as ''
[13:57:13] <timmywil> that might break more than help
[13:57:24] <gnarf> danheberden: ~0 --- who the fuck cares, and who is going to pass undefined to text?
[13:57:29] <rwaldron> gnarf INSTEAD of: text( test || "" ) as we suggested he do
[13:57:30] <danheberden> inorite
[13:57:37] <rwaldron> gnarf yeah exactly
[13:57:42] <rwaldron> its obnoxious
[13:57:43] <danheberden> his use case was bearable - some property of an object
[13:57:59] <danheberden> but if you're relying on chaining in that method, you are probably doing something else wrong
[13:57:59] <timmywil> we can't guarantee that's what all users want.  That's not what I would want
[13:58:03] <danheberden> like not using a template when you hsould
[13:58:06] <rwaldron> i _REALLY_ hate when people file tickets and submit patches and just assume they will be landed
[13:58:07] <gnarf> i would think it should remove the textNode entirely with text(undefined)
[13:58:11] <rwaldron> like no one vets this shit
[13:58:18] <gnarf> text(undefined) === "empty()" if anything
[13:58:18] <timmywil> if I'm somehow passing undefined to text, I may not want to lose all the text
[13:58:28] <rwaldron> timmywil 19million websites disagree with this guy
[13:58:29] <danheberden> i just get irritated when people say "shouldn't have more than a 1% speed impact"
[13:58:35] <danheberden> like THEN WHERES THE FUCKING PERF TESTS
[13:58:40] <danheberden> i HATE when there aren't perf tests
[13:58:48] <gnarf> like my .data() pull?
[13:58:55] <danheberden> and THEN I SMASH PUPPIES
[13:59:05] <timmywil> eat babies?
[13:59:06] <rwaldron> danheberden or how about NO TESTS
[13:59:08] <rwaldron> https://github.com/jquery/jquery/pull/396/files
[13:59:09] <rwaldron> wtf
[13:59:14] <gnarf> no perf tests for that .data() private var thing
[13:59:20] <rwaldron> i've been working on solving this THE RIGHT WAY
[13:59:41] <rwaldron> this dipshit is like "use $.contains()" but then just tacks it on to the end of the existing code
[13:59:58] <danheberden> heh, well you aren't throwing out "should" with perf percentages
[14:00:09] <danheberden> so - we have our bug triage guidelines
[14:00:24] <danheberden> maybe we need pull req guidelines - "i see you don't have tests or perf, chip chop"
[14:00:56] <gnarf> danheberden: +1 for tests, but perfs are liers too
[14:01:08] <gnarf> realistically perf is in the eye of the perf tester
[14:01:10] <danheberden> gnarf ya, you're right - it depends on the method
[14:01:28] <gnarf> and if that dude is writting shitty code, he sure as hell is gonna write a shitty perf too
[14:01:35] <danheberden> but somethings, like things used all over like each, map, events, whatever - those are nice to get _some_ kind of idea if you really fucked something up or not
[14:01:47] <danheberden> "but i thought adding in an extra function call would help, and now everything is 15% slower"
[14:01:50] <danheberden> that kinda thing
[14:02:24] <gnarf> danheberden: like .data() ??? ;)
[14:03:23] <danheberden> its like you're asking me to scold you!
[14:03:34] <danheberden> lol
[14:04:32] <gnarf> part of triage too tho is like helping other people get to where it needs to be to land right?
[14:04:40] <rwaldron> gnarf
[14:04:47] <danheberden> gnarf ya - i tried to be really diplomatic with xavi
[14:04:52] <gnarf> i can tell
[14:04:53] <rwaldron> are you referring to me not liking that dudes approach
[14:04:57] <danheberden> but it was like, he didn't want direction
[14:04:59] <gnarf> there are like essays
[14:05:08] <gnarf> and he's stubborn
[14:05:10] <rwaldron> because i dont wanna walk him through doing it the way i want to do it
[14:05:21] <gnarf> which means he can save his branch forever and use his custom jqueries
[14:05:33] <gnarf> or stop caring
[14:05:34] <danheberden> heh heh - or just duck punch fn.text
[14:05:36] <gnarf> :)
[14:05:58] <gnarf> danheberden: some dude duck punched .remove() in #jquery last night and like was "awesome I love jQuery"
[14:06:03] <gnarf> and i'm like shaking my head
[14:06:15] <rwaldron> https://github.com/rwldrn/jquery/blob/387bbece9df9f74bb29c3e8c568404aff51932a9/src/event.js#L653-675
[14:06:15] <danheberden> haha - some people come up with some quirky ideas
[14:06:19] <rwaldron> can i get look at this
[14:06:20] <gnarf> or like doing the slow-mo jump across the room screaming "noooooo"
[14:07:03] <rwaldron> DaveMethvin and I beat the shit out of this patch for sometime earlier
[14:07:05] <gnarf> rwaldron: context... what is relatedTarget?
[14:07:06] <rwaldron> it comes with tests
[14:07:40] <rwaldron> the "other" element involved an a mouseover-out/leave-enter
[14:07:50] <gnarf> oh, neat
[14:07:52] <rwaldron> the one you just left or are going to
[14:07:57] <gnarf> never knew that
[14:08:10] <rwaldron> that is _not_ the one you're listening on
[14:08:24] <danheberden> rwaldron it looks sensible
[14:08:39] <rwaldron> anyway, it was full of duck tape for old bullshit problems that DaveMethvin confirmed no longer exist in firefox
[14:10:07] <gnarf> imma run for a bit
[14:10:21] <gnarf> still haven't bothered to shower yet, and its starting to bug me ;)
[14:10:57] <rwaldron> this is the one that got a pull requested about an hour ago while dave and i were working on the other: https://github.com/bman654/jquery/blob/cabb334e3fe81517b12e6c9f57ae738435c77fc7/src/event.js#L653-680
[14:11:27] <gnarf> rwaldron: that second one is pro
[14:11:28] <gnarf> ;)
[14:11:34] <rwaldron> shut up
[14:11:39] * gnarf hides
[14:11:44] <rwaldron> mine actually resolves two tickets
[14:11:46] <rwaldron> FUCK YEAH
[14:11:47] <rwaldron> I WIN
[14:11:50] <gnarf> rwaldron: yer version is sexy
[14:11:51] <rwaldron> WOOOOOOOOOOOOOO
[14:11:54] <rwaldron> danheberden ^^
[14:11:57] <rwaldron> timmywil ^^
[14:12:00] * rwaldron dances
[14:12:01] <gnarf> it has nice curves
[14:12:13] <rwaldron> gnarf what can i say... thats the way i like em
[14:12:50] <rwaldron> wait...
[14:12:52] <rwaldron> 3 tickets.
[14:12:54] <danheberden> rwaldron awww yeah
[14:13:06] <rwaldron> I was going to hold off on a pull request.
[14:13:09] <rwaldron> but fuck i
[14:13:11] <rwaldron> it*
[14:13:19] <rwaldron> i'm going to resig this one
[14:13:21] <gnarf> rwaldron: jquery-color resolves 6 ui tickets ;)
[14:13:32] <rwaldron> thats awesome
[14:13:34] <gnarf> http://bit.ly/jqui-color-bugs
[14:13:38] <rwaldron> i promise i will review it
[14:13:46] <danheberden> oh yeah? my pull req closes 0 tickets
[14:13:47] <rwaldron> lemme just do this real quick
[14:14:23] <gnarf> oh wait
[14:14:28] <gnarf> it doesnt resolve bordercolor
[14:14:30] <gnarf> so only 5 :/
[14:14:32] <gnarf> damnit
[14:14:35] <timmywil> rwaldron: nice, I'm still concerned about jQuery.contains
[14:14:55] <danheberden> would recursion on parentNode be awful?
[14:15:11] <timmywil> I could totally be wrong because I don't know where that is along the event pipeline, but contains can't handle being passed document for either argument
[14:15:30] <timmywil> some browsers can do it
[14:15:33] <timmywil> some can't
[14:15:40] <timmywil> so just throwing that out there
[14:18:46] <rwaldron> timmywil I'll add a test and see whats up
[14:19:03] <timmywil> cool
[14:19:05] <timmywil> it's pretty tho
[14:21:53] <rwaldron> timmywil do you know which browsers cant handle passing document to contains?
[14:22:15] <timmywil> lemme check. there was a ticket about it
[14:23:01] <rwaldron> 8818
[14:23:49] <rwaldron> timmywil thats stupid
[14:24:00] <rwaldron> they wrote invalid code
[14:24:10] <timmywil> not what I was thinking of tho
[14:24:11] <rwaldron> window !== node
[14:25:27] <timmywil> document passed as second argument fails in IE
[14:25:51] <rwaldron> easy
[14:28:03] <rwaldron> damn, i have no idea how to test for thtr
[14:28:04] <rwaldron> that
[14:29:04] <rwaldron> timmywil how would the relatedTarget ever be document?
[14:29:42] <timmywil> hmmm
[14:30:17] <rwaldron> i dont think it ever would be
[14:30:47] <rwaldron> in fact, in all the tests we ran earlier, when mousing out, "body" was the relatedTarget
[14:32:39] <timmywil> should be fine then
[14:32:53] <timmywil> that's the only difference I can think of
[14:38:07] <timmywil> rwaldron: nice work
[14:38:14] <rwaldron> timmywil thanks bro
[14:48:34] <ajpiano> hmm
[14:48:39] <ajpiano> i need to do a bit more digging on this
[14:49:03] <ajpiano> but it appears that getWindow isn't working in a chrome extension, which is causing jQuery.fn.offset to break
[14:56:15] <rwaldron> interesting
[14:56:24] <rwaldron> i shouldnt be here
[14:56:28] <rwaldron> can you file it?
[14:57:29] <ajpiano> i can't make a testcase right now
[14:57:41] <ajpiano> i'd have to make like, a chrome extension test case
[14:58:36] <ajpiano> right now allz i know is that offset can't read the pageYOffset of whatever it got back as the window
[14:58:37] <ajpiano> http://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.js
[14:58:40] <ajpiano> ejoopd
[14:58:41] <ajpiano> whoops
[14:58:46] <ajpiano> https://github.com/jquery/jquery/blob/master/src/offset.js#L40
[14:58:58] <ajpiano> and i gotta get rollin for the weekend too
[14:59:35] <ajpiano> it doesn't suprise me particularly because chrome extensions give you some kind of special window object
[14:59:43] <ajpiano> we'll get it sussed rwaldron :)
[15:00:20] <rwaldron> ajpiano yeah not surprised either
[15:00:29] <ajpiano> but it's a bummer
[15:00:45] <rwaldron> filllleeee it
[15:00:46] <ajpiano> OTOH this is that rare interesection of jquery bug and client demand that may get us to find a fix/workaround :D
[15:00:51] <rwaldron> and mark high
[15:00:56] <ajpiano> file w/ no testcase?
[15:01:15] <rwaldron> wtf can ya do?
[15:01:19] <rwaldron> hahaha
[15:01:27] <rwaldron> we need a report for it
[15:01:30] <ajpiano> donno, may as well get the convo started
[15:01:31] <ajpiano> ya
[15:01:33] <rwaldron> I'll triage it
[15:01:43] <rwaldron> yeah thats what I mean
[15:01:52] <rwaldron> its ok to have a valid reason for no test case
[15:01:55] <rwaldron> hm
[15:01:57] <rwaldron> although...
[15:02:04] <rwaldron> jsfiddle has a chrome extension
[15:02:27] <ajpiano> that is different then writing a chrome extension that shows the violating code
[15:02:39] <ajpiano> i see what you're saying
[15:02:48] <ajpiano> i gotta get going though, i'm gonna file it, we can experiment with the test cases latr
[15:02:54] <rwaldron> yes
[15:02:55] <rwaldron> def
[15:03:57] <ajpiano> hmm
[15:04:24] <ajpiano> i should triage more before filing, it's in an IFRAME as well
[15:04:35] <ajpiano> the element i'm trying to get the offset of
[15:04:39] <ajpiano> from the chrome extension
[15:05:06] <ajpiano> and obvs i have a handle on the element, but not sure if offset is failing because of iframe/extension or a combination of both
[15:05:07] <ajpiano> fffuu
[15:06:08] <rwaldron> at worst we close it
[15:06:10] <rwaldron> geez
[15:06:14] <ajpiano> hahah
[15:06:15] <rwaldron> calm down
[15:06:28] <timmywil> cantfix
[15:06:32] <ajpiano> i'm just checking to see if i can get the offset from normal jquery not running in the chromex
[15:06:34] <rwaldron> i would _never_ think a ticket file dby you is bogus
[15:06:37] <timmywil> ;)
[15:06:44] <rwaldron> hahah
[15:07:02] <rwaldron> wontfix, reason: because adam filed it.
[15:07:35] <ajpiano> wow so gmail crashes if you inject jQuery
[15:07:42] <ajpiano> :/
[15:08:04] <rwaldron> whaaa
[15:08:10] <rwaldron> inject where?
[15:08:15] <rwaldron> like into the console?
[15:08:27] <rwaldron> script tag?
[15:08:27] <ajpiano> using jquerify bookmarklet
[15:08:32] <rwaldron> oh
[15:08:44] <rwaldron> shit
[15:08:46] <rwaldron> i have to go
[15:08:49] <rwaldron> file it
[15:08:51] <ajpiano> me too
[15:08:53] <rwaldron> catch ya later dude
[15:08:55] <ajpiano> ya doing so
[15:08:57] <ajpiano> enjoy mem day
[16:53:46] <jaubourg> hey
[21:55:19] <timmywil> ?time brussels
[21:55:21] <bot-t> timmywil, Brussels, Brussels - Time: 6:55 Saturday (CEST), Weather: Clear, 8°C / 46°F
