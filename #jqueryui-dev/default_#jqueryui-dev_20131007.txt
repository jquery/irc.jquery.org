[00:03:07] <_|Nix|_> uGoMobi: The OP from https://github.com/jquery/jquery-mobile/issues/6561 was able to find out.
[00:03:11] <b-ot> _|Nix|_: Issue #6561 by diegotorres50 (3d 14h ago): Swipe event does not work using JQueryMobile, IE10 on Win8 (Microsoft Tablet Surface and Nokia Lumia)
[00:03:30] <_|Nix|_> uGoMobi: I can't repro the bug on my Lumia 520, but I cannot tell what version of IE is running there, either.
[00:04:06] <_|Nix|_> uGoMobi: Good morning!
[00:07:57] <_|Nix|_> uGoMobi: The swipe-page demo transitions are kinda messed up. Going forward, the outgoing page slides out to the left, and the new one appears without transition. Going backward, the outgoing page disappears without a transition, and the incoming page slides in from the left. I thought this was a bug at first. Is it?
[00:10:27] <_|Nix|_> uGoMobi: Also, what do you think about https://github.com/jquery/jquery-mobile/issues/6570 ? Shall we tackle it before RC?
[00:10:27] <b-ot> _|Nix|_: Issue #6570 by evoskuil (1d 22h ago): Custom events do not unbind internally bound event handlers.
[00:11:14] <_|Nix|_> uGoMobi: It being a bug, we can also do it for 1.4.1.
[00:11:44] <uGoMobi> hey _|Nix|_ 
[00:11:56] <_|Nix|_> uGoMobi: Hey! :)
[00:12:16] <uGoMobi> _|Nix|_: I am not sure if that's the bug (#6561)
[00:12:32] <uGoMobi> _|Nix|_: not working sounds like it's doing noting on swipe
[00:13:07] <uGoMobi> _|Nix|_: transitions seem to be really messy on WP8
[00:13:26] <_|Nix|_> uGoMobi: Nono ... the transitions are not working on desktop either.
[00:13:40] <_|Nix|_> uGoMobi: Swipe works on my Nokia Lumia 520.
[00:14:12] <uGoMobi> _|Nix|_: ah I see
[00:14:14] <_|Nix|_> uGoMobi: ... and https://github.com/jquery/jquery-mobile/issues/6570 is a genuine bug, IMO. We need to tear down our special events.
[00:14:14] <b-ot> _|Nix|_: Issue #6570 by evoskuil (1d 22h ago): Custom events do not unbind internally bound event handlers.
[00:14:33] <uGoMobi> _|Nix|_: the changelog says "Touch events now have teardown methods"
[00:14:44] <_|Nix|_> uGoMobi: Well, those don't ...
[00:14:52] <uGoMobi> _|Nix|_: might be good to discuss that ticket with arschmitz 
[00:14:53] <_|Nix|_> uGoMobi: Unless the OP tested an old version.
[00:16:33] <_|Nix|_> uGoMobi: https://github.com/jquery/jquery-mobile/issues/6570 seems to be already fixed.
[00:16:33] <b-ot> _|Nix|_: Issue #6570 by evoskuil (1d 22h ago): Custom events do not unbind internally bound event handlers.
[00:17:11] <uGoMobi> _|Nix|_: great
[00:17:13] <_|Nix|_> uGoMobi: I'll close it.
[00:17:19] <uGoMobi> thanks
[00:17:42] <uGoMobi> _|Nix|_: Re: transitions on WP8/IE. See https://github.com/jquery/jquery-mobile/issues/6349#issuecomment-25293645
[00:17:42] <b-ot> uGoMobi: Issue #6349 by uGoMobi (1mon 3w ago): Panel: Page contents disappear when opening a panel on WP8
[00:18:23] <uGoMobi> _|Nix|_: I am pretty sure that what I described there will also happen with position absolute, not only fixed
[00:18:51] <uGoMobi> _|Nix|_: so we probably see the same issue with pages because they have position absolute
[00:23:47] <jqmobilecommit> [13jquery-mobile] 15gabrielschulhof closed issue #6570: Custom events do not unbind internally bound event handlers.  02http://git.io/uN_7Ow
[00:26:25] <_|Nix|_> uGoMobi: On Chrome/desktop it works fine as long as you go forward. If you go back even once, it breaks.
[00:27:38] <uGoMobi> _|Nix|_: I see what you mean
[00:28:05] <uGoMobi> _|Nix|_: this is something we have to look into before RC
[00:32:40] <jqmobilecommit> [13jquery-mobile] 15uGoMobi closed issue #6142: Listview: filter routine called each time when filter is empty  02http://git.io/-UKo3w
[00:35:43] <_|Nix|_> uGoMobi: OK. I'm glad you can repro it.
[00:36:58] <uGoMobi> _|Nix|_: I first thought it was because of the large image didn't load yet, but we prefetch and set data-dom-cache="true"
[00:37:30] <uGoMobi> _|Nix|_: I am really curious what change caused this
[00:48:26] <_|Nix|_> uGoMobi: I can run a bisect after breakfast.
[00:49:04] <uGoMobi> _|Nix|_: cool
[01:33:51] <jqmobilecommit> [13jquery-mobile] 15simonech opened issue #6572: Flipswitch behaves differently than slider when used with Knockout.js  02http://git.io/FpF1xQ
[01:37:13] <jqmobilecommit> [13jquery-mobile] 15uGoMobi closed issue #6572: Flipswitch behaves differently than slider when used with Knockout.js  02http://git.io/FpF1xQ
[02:02:34] <doesallmagic2> Project jQuery UI - git core build #536: STILL UNSTABLE in 1 min 2 sec: http://jenkins.jquery.com/job/jQuery%20UI%20-%20git%20core/536/
[02:03:36] <doesallmagic2> Project jQuery UI 1-9-stable - git core build #327: STILL UNSTABLE in 1 min 2 sec: http://jenkins.jquery.com/job/jQuery%20UI%201-9-stable%20-%20git%20core/327/
[02:07:14] <jqmobilecommit> [13jquery-mobile] 15uGoMobi reopened issue #6572: Flipswitch behaves differently than slider when used with Knockout.js  02http://git.io/FpF1xQ
[02:46:35] <doesallmagic2> Project jQuery UI - 1.6.x core build #432: STILL FAILING in 15 min: http://jenkins.jquery.com/job/jQuery%20UI%20-%201.6.x%20core/432/
[03:10:26] <_|Nix|_> uGoMobi: Me go bisect now. Sorry about the delay!
[03:10:42] <uGoMobi> _|Nix|_: np, thanks!
[03:16:37] <doesallmagic2> Project jQuery UI - 1.7.x core build #431: STILL UNSTABLE in 15 min: http://jenkins.jquery.com/job/jQuery%20UI%20-%201.7.x%20core/431/
[03:20:06] <_|Nix|_> uGoMobi: You're not gonna like this: "Demos: External persistent toolbars for swipe page nav demo. Fixes https://github.com/jquery/jquery-mobile/issues/6527." (4b6642fc9dd0aa92c6a5c7f86b36dd41893a0d5f)
[03:20:06] <b-ot> _|Nix|_: Issue #6527 by gabrielschulhof (1w 2d ago): demos/swipe-page: When swiping from one city to another, the header has no theme during the transition
[03:21:20] <uGoMobi> _|Nix|_: actually I do, because then it might be an issue in the demo only
[03:21:34] <uGoMobi> _|Nix|_: thanks for bisect!
[03:21:50] <uGoMobi> _|Nix|_: and sorry that I am the one that broke it
[03:22:39] <uGoMobi> _|Nix|_: can you take a look at the custom script for that demo?
[03:23:19] <_|Nix|_> uGoMobi: OK.
[03:23:33] <uGoMobi> _|Nix|_: thanks!
[03:25:21] <_|Nix|_> uGoMobi: The thing is, the transition sometimes works - in both direction.
[03:32:43] <uGoMobi> _|Nix|_: I also noticed the issue when using the control at the bottom left corner instead of swipe
[03:33:41] <uGoMobi> _|Nix|_: what was the issue again that was surprisingly caused by the new toolbar widget?
[03:37:30] <_|Nix|_> uGoMobi: There are times when, during the transition, you do not see the two pictures side-by-side.
[03:37:49] <uGoMobi> _|Nix|_: yes, that's what I see too
[03:38:06] <_|Nix|_> uGoMobi: Sometimes the old city disappears before the transition begins, and sometimes the new city only appears when the transition has ended.
[03:38:27] <_|Nix|_> uGoMobi: I'm tracing the exact line where the old city disappears.
[03:38:43] <_|Nix|_> uGoMobi: It sucks that it doesn't always happen.
[03:38:58] <uGoMobi> _|Nix|_: maybe we should test with text instead of background images to see if it has to do with CSS
[03:40:32] <_|Nix|_> uGoMobi: I suspect we're unsetting some class or something.
[03:40:50] <_|Nix|_> uGoMobi: Or maybe a selector stops applying.
[03:41:59] <_|Nix|_> uGoMobi: Though that does not explain why it sometimes works - unless there's a race condition somewhere in the rendering thread. The CSS rule may no longer apply, but it's too late, because the transition is already in progress, so the elements involved in the transition can no longer be updated - but that's just a speculation.
[03:42:36] <_|Nix|_> uGoMobi: The good news is in FF it never works.
[03:42:56] <_|Nix|_> uGoMobi: So at least we have a consistent bug.
[03:43:07] <uGoMobi> _|Nix|_: yeah, that's something
[03:46:36] <doesallmagic2> Project jQuery UI - 1.8.x core build #407: STILL UNSTABLE in 15 min: http://jenkins.jquery.com/job/jQuery%20UI%20-%201.8.x%20core/407/
[03:49:37] <_|Nix|_> uGoMobi: When bringing in the next city, the following line causes the current city to disappear: https://github.com/jquery/jquery-mobile/blob/master/js/transitions/transition.js#L97
[03:49:59] <_|Nix|_> uGoMobi: Spoiler: this.$to.addClass( $.mobile.activePageClass + this.toPreClass );
[03:51:53] <_|Nix|_> uGoMobi: I think the problem is that the new city gets the active page class and it is already located at (0, 0) instead of where the transition is supposed to start, which is ( window.width(), 0 (
[03:53:05] <uGoMobi> _|Nix|_: but then I wonder how come this is not broken in 1.3? we didn't make any changes in transitions as far as I know
[03:53:18] <_|Nix|_> uGoMobi: Yeah, I don't get it either.
[03:54:18] <_|Nix|_> uGoMobi: I'll compare with the last-known-good commit.
[03:54:29] <_|Nix|_> uGoMobi: See if that line causes anything there.
[03:59:45] <_|Nix|_> uGoMobi: As expected - in the last-known-good commit, adding those classes has no visual effect whatsoever.
[04:00:40] <_|Nix|_> uGoMobi: I bet it has something to do with z-index.
[04:07:57] <_|Nix|_> uGoMobi: Hmmm ... briefly both pages have ui-page-active.
[04:08:10] <_|Nix|_> uGoMobi: Which makes sense because they must both be visible.
[04:09:27] <_|Nix|_> uGoMobi: I'm thinking that ui-page-pre-in is supposed to move the to page left edge next to the from page right edge.
[04:09:37] <uGoMobi> _|Nix|_: just tested if the overflow-x hidden for the active page could be the cause, but still see the issue when I remove that
[04:09:44] <uGoMobi> that was something added after 1.3
[04:11:25] <uGoMobi> _|Nix|_: maybe we should test with the 1.3 swipe page nav demo and latest code
[04:11:41] <uGoMobi> and ignore the unthemed toolbars
[04:13:12] <_|Nix|_> uGoMobi: OK.
[04:17:42] <_|Nix|_> uGoMobi: Interesting - it is as if the opacity 0; is not having any effect.
[04:18:12] <_|Nix|_> uGoMobi: Applying the ui-page-active ui-page-pre-in causes the page to appear, but to have opacity 0;
[04:18:29] <arschmitz> morning _|Nix|_ uGoMobi:
[04:18:39] <_|Nix|_> arschmitz: Hey! Welcome to the fray!
[04:18:50] <_|Nix|_> arschmitz: Here's your sword and shield. Good luck!
[04:19:22] <arschmitz> _|Nix|_: that custom events thing i need to double check but pretty sure those are added already
[04:19:33] <arschmitz> i bet they are using 1.4
[04:19:37] <arschmitz> 1.3  i mean
[04:19:42] <_|Nix|_> arschmitz: Yes. I checked and closed it.
[04:19:44] <_|Nix|_> arschmitz: http://alandipert.github.io/barcamp-2012/slide-assets/compilers.jpg
[04:19:58] <arschmitz> _|Nix|_: awesome
[04:20:05] <arschmitz> _|Nix|_: and ill take care of https://github.com/jquery/jquery-mobile/issues/6561
[04:20:05] <b-ot> arschmitz: Issue #6561 by diegotorres50 (3d 18h ago): Swipe event does not work using JQueryMobile, IE10 on Win8 (Microsoft Tablet Surface and Nokia Lumia)
[04:20:14] <arschmitz> its not a bug they are using 1.3 and its fixed
[04:20:18] <uGoMobi> morning arschmitz 
[04:20:20] <arschmitz> but i want to handle it
[04:20:37] <arschmitz> because im completely fed up with the poster lol 
[04:20:57] <arschmitz> they spent the entire weekend tracking down all my personal info and bugging me
[04:21:05] <_|Nix|_> arschmitz: Oh, wow!
[04:21:18] <_|Nix|_> arschmitz: Sorry to hear that!
[04:21:20] <arschmitz> my skype, google +, linkedin , email you name it
[04:21:27] <_|Nix|_> arschmitz: Man! :/
[04:21:29] <uGoMobi> wot
[04:21:38] <arschmitz> yeah
[04:21:38] <uGoMobi> arschmitz: who?
[04:21:49] <arschmitz> the person who posted https://github.com/jquery/jquery-mobile/issues/6561
[04:21:49] <b-ot> arschmitz: Issue #6561 by diegotorres50 (3d 18h ago): Swipe event does not work using JQueryMobile, IE10 on Win8 (Microsoft Tablet Surface and Nokia Lumia)
[04:22:20] <arschmitz> i dont even know how they found my skype name 
[04:22:25] <arschmitz> i dont even know my skype name
[04:22:27] <arschmitz> lol
[04:22:30] <_|Nix|_> :)
[04:22:31] <uGoMobi> lol
[04:22:37] <uGoMobi> annoying
[04:22:41] <arschmitz> yeah
[04:22:55] <_|Nix|_> "Work in public they said. It'll be fun they said."
[04:22:59] <arschmitz> i actually thought it was a relative at first because i have one by the same name
[04:24:11] <arschmitz> \\]
[04:32:42] <_|Nix|_> uGoMobi: Ummm ... pre-4b6642fc9dd0aa92c6a5c7f86b36dd41893a0d5f things were really weird in FF. 
[04:34:01] <_|Nix|_> uGoMobi: The page has a scrollbar, and during the transition the image is larger than after the transition, so it appears to be lifting up, moving over, and then settling down.
[04:35:02] <_|Nix|_> uGoMobi: Also, the in-page toolbars are completely absent.
[04:35:04] <uGoMobi> _|Nix|_: sounds like a type of transition that if you want to have it you can never achieve it
[04:35:15] <uGoMobi> _|Nix|_: but if you don't want it :(
[04:57:57] <_|Nix|_> uGoMobi: Man ... I slowed down the transition speed to 3500ms just to see what's happening, and now FF is inconsistent too. Sometimes the page snaps in when the transition begins, but at other times it stays blank until the transition ends, and yet again sometimes the outgoing page blanks as soon as the transition starts.
[04:59:36] <uGoMobi> _|Nix|_: it's getting even more weird
[04:59:46] <uGoMobi> _|Nix|_: are you testing with the 1.3 demo now?
[05:04:05] <_|Nix|_> uGoMobi: No ... still the 1.4 demo, but I added text. When the page disappears, the page disappears, not just the background.
[05:04:14] <_|Nix|_> uGoMobi: ... because the text inside the content disappeared too.
[05:04:19] <_|Nix|_> uGoMobi: I can try the 1.3 demo.
[05:04:48] <_|Nix|_> uGoMobi: Dang nab it! Really sneaky bug ...
[05:08:38] <_|Nix|_> uGoMobi: 1.3 demo with 1.4 code essentially works.
[05:09:04] <_|Nix|_> uGoMobi: ... but it flashes quite badly, probably because we're applying the theme at the end of the transition.
[05:09:24] <_|Nix|_> uGoMobi: Tested in FF.
[05:10:24] <_|Nix|_> uGoMobi: Same thing in Chrome, but smoother.
[05:10:45] <_|Nix|_> uGoMobi: So, can we conclude that it's the header-outside-the-page thing that's breaking things?
[05:10:58] <_|Nix|_> uGoMobi: Or, I mean, toolbar-outside-the-page?
[05:11:20] <uGoMobi> _|Nix|_: based on your findings it looks like it
[05:11:35] <_|Nix|_> uGoMobi: Well, *scratch head* ... WTF?!
[05:11:36] <uGoMobi> _|Nix|_: what was that other weird bug caused by toolbar widget?
[05:11:45] <_|Nix|_> uGoMobi: There was one?
[05:11:53] <uGoMobi> _|Nix|_: yeah, I can't remember
[05:12:12] <_|Nix|_> uGoMobi: Oh, page snaps to top on iOS ...
[05:12:14] <uGoMobi> _|Nix|_: there was an issue and at the end it turned out to be new toolbar widget
[05:12:32] <uGoMobi> _|Nix|_: right, that one!
[05:12:34] <_|Nix|_> uGoMobi: Yeah, on iOS, whenever you query window size you get resize event(s).
[05:12:52] <uGoMobi> _|Nix|_: ah ok, doesn't seem to be related to this at all
[05:13:02] <_|Nix|_> uGoMobi: ... and fixed toolbar workarounds query window size whenever you scroll.
[05:13:10] <_|Nix|_> uGoMobi: No. Don't think it's related.
[05:14:03] <_|Nix|_> uGoMobi: TBH this looks like a CSS bug to me. Unfortunately it seems notoriously difficult to pin down.
[05:14:27] <_|Nix|_> uGoMobi: ... and our switching to out-of-page toolbars is not really the commit that breaks it.
[05:14:39] <_|Nix|_> uGoMobi: I suspect it's our implementation of out-of-page toolbars that breaks it.
[05:14:57] <_|Nix|_> uGoMobi: We didn't think to immediately update the swipe demo when we introduced out-of-page toolbars.
[05:15:17] <_|Nix|_> uGoMobi: Otherwise we would've noticed the issue a lot sooner, when the out-of-page toolbar was still fresh in our minds.
[05:16:00] <_|Nix|_> uGoMobi: I wonder. What if I add  an in-page dummy toolbar just for the hell of it.
[05:16:03] <_|Nix|_> ?
[05:17:51] <_|Nix|_> I'm na√Øve ...
[05:21:09] <_|Nix|_> Naaaw ... it's definitely the out-of-page toolbars. I get rid of them and Bam! Smooth as a baby's bottom (and I have /very/ recent memories of a baby's bottom!)
[05:21:25] <uGoMobi> lol
[05:22:06] <arschmitz> _|Nix|_: what exactly is the issue with toolbars?
[05:22:07] <uGoMobi> _|Nix|_: ok, but I am still curious why this doesn't work so let's open a ticket for it
[05:22:45] <_|Nix|_> arschmitz: In thhe swipe-page, as you swipe, sometimes the outgoing city disappears as soon as the transition starts, and sometimes the incoming city does not appear until the transition ends.
[05:22:51] <_|Nix|_> uGoMobi: Agreed.
[05:23:08] <_|Nix|_> uGoMobi: Will you or shall I?
[05:23:29] <arschmitz> _|Nix|_: sounds like a rendering bug
[05:23:47] <uGoMobi> _|Nix|_: maybe you can open a ticket, then I'll create a basic test page later
[05:23:50] <arschmitz> toolbars outside pages are not even part of transitions
[05:23:52] <_|Nix|_> arschmitz: I've narrowed down the problem to https://github.com/jquery/jquery-mobile/blob/master/js/transitions/transition.js#L97
[05:24:02] <uGoMobi> _|Nix|_: want to start with simple test page
[05:24:18] <arschmitz> _|Nix|_: because transitions only work on pages and the toolbars are outside the page they do not transition
[05:24:54] <_|Nix|_> arschmitz: I have this nasty suspicion that they may be affecting the way CSS selectors are being applied. Like, :first-child or :first no longer applies to the page, or starts applying to the page, or something like that.
[05:25:24] <arschmitz> _|Nix|_: hmm maybe but we really should not make assumptions about structure like that if we are
[05:25:30] <_|Nix|_> arschmitz: It happens at the point when both pages have ui-page-active.
[05:26:05] <_|Nix|_> arschmitz: We might not be. It's just my uneducated wild hunch.
[05:26:32] <arschmitz> _|Nix|_: yeah i have not looked yet im just saying if we ARE thats an issue
[05:27:10] <_|Nix|_> arschmitz: The incoming page gets ui-page-active ui-page-pre-in (the latter === { opacity: 0; } and at that point, sometimes the old page disappears spontaneously.
[05:27:34] <arschmitz> only sometimes?
[05:27:57] <_|Nix|_> arschmitz: Let me check again before I say consistently.
[05:29:20] <_|Nix|_> arschmitz: Here's the thing: 1. Open demos/swip-page/newyork.html in Chrome. 2. Swipe right-to-left until you get to Sydney. At this point all is well.
[05:29:45] <_|Nix|_> arschmitz: 3. Swipe left-to-right. At this point, Sydney disappears before the transition to Seoul starts.
[05:30:13] <_|Nix|_> arschmitz: 4. On your way back to New York, the outgoing city disappears as soon as the transition starts.
[05:30:16] <arschmitz> so its specificly a problem with reverse slide transition
[05:31:02] <arschmitz> _|Nix|_: does that sound right?
[05:31:06] <_|Nix|_> arschmitz: Well, hold on. The forward transition breaks afterwards.
[05:32:06] <_|Nix|_> arschmitz: If you move from New York towards Sydney again, New York disappears as soon as the transition to Buenos Aires begins, but on all subsequent transitions, the outgoing city slides out nicely, but the incoming city is missing until the transition completes.
[05:32:33] <arschmitz> hmm have you checked to make sure that no classes are getting left hanging around?
[05:32:46] <arschmitz> thats kinda what it sounds like
[05:32:47] <_|Nix|_> arschmitz: Setting the transition time to 3500 instead of 350 helps tell the performance-related issues from the logic(?) issues.
[05:33:14] <arschmitz> _|Nix|_: sounds like some css property or class is getting applied and then never removed
[05:33:36] <_|Nix|_> arschmitz: That's true. Maybe a jQuery selector is affected by the presence of the header/footer, rather than a CSS selector.
[05:33:40] <arschmitz> since it does not happen until after you run a reverse transition for the first time
[05:33:55] <_|Nix|_> arschmitz: Good point.
[05:33:56] <arschmitz> then it happens no matter what
[05:34:08] <_|Nix|_> arschmitz: I'll check that.
[05:34:17] <arschmitz> _|Nix|_: also try with a different trnasition
[05:34:20] <arschmitz> like slidefade
[05:34:31] <arschmitz> because slide has a different handler then any other
[05:34:49] <_|Nix|_> arschmitz: Oh, right, because two pages are present at the same time.
[05:34:54] <arschmitz> yup
[05:35:40] <_|Nix|_> arschmitz: Yep. Works like a charm.
[05:35:48] <_|Nix|_> arschmitz: So, the handler, eh?
[05:35:57] <arschmitz> not for sure
[05:36:10] <arschmitz> because it could still be a selector or css
[05:36:21] <_|Nix|_> arschmitz: True.
[05:36:34] <arschmitz> just helps to narrow scope
[05:38:20] <_|Nix|_> arschmitz: It might well be the handler, because if I go back and forth between New York and Buenos Aires, the two become messed up, but if I then go forward on to Sydney, the pages which have never before been seen, are clean.
[05:39:05] <arschmitz> _|Nix|_: we have always had more issues with that transition / handler
[05:41:49] <arschmitz> i jut fixed other issues with it the other day
[05:42:06] <arschmitz> _|Nix|_: unrelated though was just for same page transitions
[05:44:24] <_|Nix|_> arschmitz: Right. Well, one thing right off the bat is that New York has ui-page-header-fullscreen ui-page-footer-fullscreen whereas Buenos Aires does not.
[05:44:47] <arschmitz> _|Nix|_: thats exactly the sort of thing i was talking about
[05:45:08] <_|Nix|_> arschmitz: ... but I'm continuing to check for such stale classes.
[05:45:10] <arschmitz> something with classes not being added / removed properlu
[05:46:22] <_|Nix|_> arschmitz: Well, adding them by hand doesn't help with the incorrect slide back to NY :(
[05:48:15] <scott_gonzalez> jzaefferer: Do you want to try this out? http://bugs.jqueryui.com/ticket/9590#comment:4
[05:48:42] <_|Nix|_> arschmitz: *sigh* ... I can't see any classes being left behind or getting removed unnecessarily :/
[05:49:14] <arschmitz> _|Nix|_: ok
[05:49:33] <arschmitz> so likely back to a selector issue of some sort
[05:49:51] <_|Nix|_> arschmitz: Well, one thing's for sure. The pages are left in the DOM because they are cached.
[05:50:05] <arschmitz> _|Nix|_: right
[05:50:06] <_|Nix|_> arschmitz: So, the first time around they're enhanced, but afterwards they're already in the DOM.
[05:50:16] <arschmitz> hmmm
[05:50:24] <arschmitz> so maybe a timing issue?
[05:50:39] <_|Nix|_> arschmitz: How do you mean?
[05:50:54] <arschmitz> well enhancment takes time
[05:51:07] <_|Nix|_> arschmitz: Oh no ... definitely not.
[05:51:10] <arschmitz> and transitions are all about timing
[05:51:52] <_|Nix|_> arschmitz: You can slow down the transition to 3500ms, and yes, sometimes there's a brief period when the next page is blank, even when the animation is correct, but then the page fills in as fast as possible and the transition continues correctly.
[05:52:05] <_|Nix|_> arschmitz: However, when it's broken, it never fills in until the transition completes.
[05:52:11] <arschmitz> _|Nix|_: wonder if we do something foolish like looking for the last page 
[05:52:31] <arschmitz> because when they are loaded they are always last
[05:52:55] <arschmitz> but after that when they/ are cached they are not
[05:57:09] <arschmitz> _|Nix|_: well transitions.js has no real selectors
[05:57:43] <jzaefferer> scott_gonzalez: yeah, I can do that
[05:58:08] <_|Nix|_> arschmitz: ... and pagecontainer, when it starts the transition, correctly supplies both to and from.
[05:58:30] <_|Nix|_> arschmitz: Talking about promise = ( new TransitionHandler( transition, reverse, to, from ) ).transition();
[05:58:39] <arschmitz> yeah
[05:58:54] <arschmitz> very odd indeed
[06:00:03] <arschmitz> _|Nix|_: also the css selectors dont have anything but the transition names
[06:01:15] <arschmitz> _|Nix|_: have you tried switching to non fixed toolbars?
[06:03:13] <_|Nix|_> I KNOW WHAT IT IS!
[06:03:27] <_|Nix|_> Both pages have position: relative.
[06:03:53] <_|Nix|_> So, when going back to New York, New York is at 0, 0, and Buenos Aires is below it.
[06:04:07] <_|Nix|_> That's why you can no longer see it.
[06:04:16] <_|Nix|_> uGoMobi: ^
[06:04:29] <_|Nix|_> The style is applied to the page element itself.
[06:04:41] <uGoMobi> _|Nix|_: huh
[06:04:56] <uGoMobi> _|Nix|_: where do we set position relative?
[06:05:06] <uGoMobi> _|Nix|_: in the transition CSS?
[06:05:22] <_|Nix|_> Wait a sec - something doesn't add up. The computed style for Buenos Aires says top: 0px
[06:05:38] <_|Nix|_> But when I hover above the page div in the element inspector, it's below New York.
[06:06:34] <arschmitz> _|Nix|_: top:0 and relative would put it below
[06:06:57] <_|Nix|_> Oh, OK.
[06:07:13] <arschmitz> _|Nix|_: that basicly puts in in the normal page flow
[06:07:21] <_|Nix|_> arschmitz: As soon as I remove position: relative, it's good.
[06:07:32] <arschmitz> _|Nix|_: yeah because then its absolute
[06:07:38] <arschmitz> and jumps to the top where it should be
[06:07:52] <_|Nix|_> K, so ... now what :)
[06:07:53] <arschmitz> _|Nix|_: where is this being applied
[06:07:54] <arschmitz> ?
[06:07:59] <_|Nix|_> arschmitz: I'll check.
[06:08:08] <_|Nix|_> uGoMobi: Sorry - forgot to file that issue :/
[06:09:47] <arschmitz> _|Nix|_: hmm calling refresh on toolbar sets page to position relative
[06:09:57] <arschmitz> and i have no idea why
[06:10:07] <arschmitz> only if its outside the page too
[06:10:34] <jqmobilecommit> [13jquery-mobile] 15gabrielschulhof opened issue #6573: demos/swipe-page: One of the two cities absent during the transition.  02http://git.io/9dfu9g
[06:10:53] <_|Nix|_> arschmitz: git blame to find out why ... maybe?
[06:11:05] <arschmitz> _|Nix|_: already doing it
[06:13:53] <arschmitz> _|Nix|_: its in initial commit of toolbar
[06:14:27] <arschmitz> meaning i should know why i put it there lol
[06:14:45] <_|Nix|_> :)
[06:15:06] <arschmitz> _|Nix|_: ohhhhhh i know if page were absolute it would cover a non fixed toolbar
[06:15:47] <arschmitz> _|Nix|_: and refresh is called on pageshow
[06:15:55] <_|Nix|_> arschmitz: Right ... 
[06:16:36] <arschmitz> hmmm so maybe we should be adjusting the top:0 to be the height of the toolbar there instead
[06:16:39] <arschmitz> uGoMobi: ^^^
[06:17:00] <uGoMobi> nice debugging work
[06:17:12] <_|Nix|_> arschmitz: Well, no top coordinate is specified, I think, so the default of 0 is used.
[06:17:26] <_|Nix|_> arschmitz: Only the position is set, not the coordinate.
[06:17:31] <arschmitz> _|Nix|_: right but what im saying is we should be setting one there i think
[06:17:52] <arschmitz> _|Nix|_: also i think this should only happen on non-fixed 
[06:17:59] <arschmitz> right now it happens on all 
[06:19:09] <_|Nix|_> arschmitz: OK ... hmmm ... the thing is, the page obviously snaps into place after the transition completes so, if the position: relative is left on, then the top must be getting set.
[06:19:11] <arschmitz> uGoMobi: what do you think you are better with css then us
[06:19:22] <arschmitz> _|Nix|_: no
[06:19:34] <arschmitz> it would naturally snap into place when its done
[06:19:46] <arschmitz> because the other page gets display:none so it is removed from the flow
[06:19:54] <arschmitz> so then the proper page takes its place 
[06:20:36] <_|Nix|_> arschmitz: Right, of course.
[06:20:52] <arschmitz> _|Nix|_: this could also be fixed by setting relative on transition complete instead of show
[06:21:04] <arschmitz> and removed on transition start
[06:21:44] <_|Nix|_> Yeah ... now that we know what must be done we must find the architecturally sanest way of doing that.
[06:21:52] <_|Nix|_> Are pages always position: relative?
[06:21:58] <arschmitz> no
[06:22:06] <arschmitz> they are generally absolute
[06:22:08] <_|Nix|_> arschmitz: OK, so only when a toolbar is in place, eh?
[06:22:16] <arschmitz> and outside page
[06:23:04] <arschmitz> _|Nix|_: i want uGoMobi 's input on this one for what he thinks makes the most sense from a css perspective
[06:23:31] <_|Nix|_> arschmitz: Man, I just realized. A toolbar outside a page would trump a popup inside a page, right, because the popup's screen would then also be inside the page.
[06:23:51] <_|Nix|_> arschmitz: So the popup's screen would not cover the toolbar, no matter what z-index I give it.
[06:24:13] <arschmitz> _|Nix|_: no
[06:24:19] <uGoMobi> sorry, looking now
[06:24:31] <arschmitz> _|Nix|_: you would need to set z-index on page also
[06:24:44] <arschmitz> so the parent container has a higher z-index then the toolbar
[06:24:50] <_|Nix|_> arschmitz: No, because that would cause the toolbar to end up behind the page.
[06:25:02] <_|Nix|_> arschmitz: I want to cover the toolbar, not make it disappear.
[06:25:04] <_|Nix|_> arschmitz: Ideally.
[06:25:12] <arschmitz> ahhh right
[06:25:15] <_|Nix|_> arschmitz: I think the popup's screen may have to go the way of the panel's.
[06:25:29] <_|Nix|_> arschmitz: i.e., on screen shared by all and placed into the body.
[06:25:32] <arschmitz> seems like it should be a child of body
[06:25:35] <arschmitz> exactly
[06:25:44] <_|Nix|_> arschmitz: Yeah, but then the screen would cover the popup too :)
[06:26:37] <arschmitz> _|Nix|_: dont you love z-index shuffling 
[06:27:06] <_|Nix|_> arschmitz: Nah ... z-index overrides source order, that's all. 
[06:28:13] <_|Nix|_> arschmitz: Well, this is gonna be a battle for another day.
[06:29:24] <_|Nix|_> arschmitz: OTOH, toolbars-outside-pages could make use of z-index and avoid having to use position: relative, no?
[06:29:50] <arschmitz> _|Nix|_: the content would be under the toolbar
[06:30:02] <arschmitz> so would need to set padding or top cord or something to remady
[06:30:16] <arschmitz> _|Nix|_: and z-index isnt the issue really
[06:30:21] <arschmitz> because header is before page
[06:30:39] <arschmitz> its making sure the page is not covered by the toolbar
[06:30:54] <_|Nix|_> arschmitz: Well, wait a sec ... in the demo the page /is/ covered by the toolbar.
[06:31:08] <arschmitz> _|Nix|_: fullscreen
[06:31:10] <_|Nix|_> arschmitz: Or that may be intentional, because the toolbar is set as fullscreen.
[06:31:13] <_|Nix|_> Right.
[06:31:38] <uGoMobi> _|Nix|_: arschmitz : better to look at this demo http://view.jquerymobile.com/master/demos/toolbar-external/
[06:31:48] <uGoMobi> that are non-fixed external toolbars
[06:32:25] <arschmitz> uGoMobi: right the issue is external toolbars setting position relative on pageshow
[06:32:31] <arschmitz> on the page
[06:32:58] <uGoMobi> arschmitz: yes, I saw that
[06:33:08] <uGoMobi> arschmitz: which is not an issue when the page is in view
[06:33:19] <uGoMobi> but the problem comes with the transition
[06:33:21] <arschmitz> uGoMobi: right only durring transitions
[06:33:45] <jqmobilecommit> 01[13jquery-mobile01] 15gabrielschulhof pushed 1 new commit to 06master: 02http://git.io/dYg3Jw
[06:33:45] <jqmobilecommit> 13jquery-mobile/06master 14d218657 15Gabriel Schulhof: Demos: External toolbars: Typo.
[06:33:58] <arschmitz> uGoMobi: im thinking we need to either set padding or a top: cord instead of relative
[06:34:01] <_|Nix|_> arschmitz: What about hooking up to the transition events and (un)setting it.
[06:34:13] <arschmitz> _|Nix|_: it will cause the page to jump
[06:34:15] <_|Nix|_> arschmitz: Oh, wait, that's bad, because then the toolbar would disappear during the transition.
[06:34:35] <arschmitz> _|Nix|_: no it wouldnt but the content would be under the toolbar
[06:34:59] <arschmitz> then when it completely it would jump down to right place
[06:35:04] <uGoMobi> maybe we should treat them exactly as fixed toolbars and use updatePagePadding but override position fixed with position absolute
[06:35:05] <_|Nix|_> arschmitz: We could define a "page box" inside the pagecontainer.
[06:35:18] <arschmitz> uGoMobi: yes thats exactly what i was suggesting
[06:35:30] <_|Nix|_> arschmitz: A set of coordinates that represent the rectangle within which pages dance.
[06:35:50] <uGoMobi> tricky to use inline style BTW because we don't clean it up and it overrides the stylesheet
[06:36:24] <arschmitz> uGoMobi: so im thinking we move update page padding into toolbar and wire it up for external pages?
[06:36:40] <arschmitz> uGoMobi: oh but then what about non fixed footer
[06:36:51] <uGoMobi> bottom 0
[06:37:01] <arschmitz> non fixed though
[06:37:03] <uGoMobi> I use a fixed footer in the demos
[06:37:12] <uGoMobi> position absolute
[06:37:26] <arschmitz> so we will have to calculate its position
[06:37:38] <arschmitz> based on header and page height
[06:37:45] <uGoMobi> see the footer in the demos, that one has data-position="fixed" but I override with position absolute
[06:38:39] <_|Nix|_> uGoMobi: Oh, so that's why we have fixed toolbars on all pages that nevertheless seem to flow with the content?
[06:38:40] <uGoMobi> I don't mean the one in that external toolbar demo, the JQM custom footer like here http://view.jquerymobile.com/master/demos/
[06:39:10] <_|Nix|_> uGoMobi: You know that that's single-handedly causing the scroll-snap-back for all our demos on iOS, right?
[06:39:29] <uGoMobi> _|Nix|_: now I know :)
[06:39:36] <uGoMobi> _|Nix|_: blame iOS, not me
[06:39:45] <_|Nix|_> uGoMobi: Tell me about it :/
[06:39:47] <arschmitz> uGoMobi: but thats not external
[06:40:37] <uGoMobi> arschmitz: ah wait, the html and body don't get page height
[06:40:47] <arschmitz> uGoMobi: right
[06:40:56] <uGoMobi> so bottom 0 won't be the bottom of the page
[06:40:57] <arschmitz> i remember why i did relative now
[06:41:03] <arschmitz> and this is it
[06:41:10] <arschmitz> external non fixed footers
[06:41:37] <uGoMobi> did we already tell people we support external non fixed toolbars?
[06:41:49] <_|Nix|_> STOP THE PRESSES!
[06:42:20] <uGoMobi> lol
[06:43:00] <arschmitz> uGoMobi: oh i can fix this i think
[06:43:25] <arschmitz> uGoMobi: we keep absolute and set padding durring transition
[06:43:43] <arschmitz> but then we switch to relative and remove padding after transition
[06:45:02] <_|Nix|_> arschmitz: Nice!
[06:45:25] <_|Nix|_> uGoMobi: BTW: I think Moulin Rouge no longer runs jQM ... not from the View Source, AFAICT.
[06:46:23] <arschmitz> uGoMobi: _|Nix|_: oh execpt then the footer might jump around
[06:47:01] <arschmitz> hmmm might just have to calculate footer position
[06:49:51] <uGoMobi> that feels a bit like we are holding the whole page together with duct tape during transition :/
[06:50:43] <_|Nix|_> uGoMobi: ... but only during slide.
[06:52:16] <arschmitz> uGoMobi: yeah this only effects slide transitions with external non-fixed toolbars ( well should it effects fixed right now but that should be fixed )
[06:52:38] <_|Nix|_> uGoMobi: You know ... how much of this is app-specific? I mean, we could move the destination page to the right coordinates before the transition in the custom code.
[06:53:18] <arschmitz> uGoMobi: im thinking we should at least move from pageshow to page change for it
[06:53:20] <_|Nix|_> uGoMobi:  ... assuming we have the right event ...
[06:53:40] <arschmitz> because then the worst that happens is content moves down the height of the toolbar after then transition
[06:55:25] <uGoMobi> when non-fixed external toolbars you can expect a jumping footer during/after the transition
[06:55:46] <travis-ci> [travis-ci] jquery/jquery-mobile#930 (master - d218657 : Gabriel Schulhof): The build passed.
[06:55:46] <travis-ci> [travis-ci] Change view : https://github.com/jquery/jquery-mobile/compare/1eed2ed458ec...d218657e1d48
[06:55:46] <travis-ci> [travis-ci] Build details : http://travis-ci.org/jquery/jquery-mobile/builds/12230533
[06:55:50] <uGoMobi> s/when/when you use/
[06:58:04] <_|Nix|_> Dang! When we get pagecontainerbeforetransition, the destination page is not yet visible :/
[06:59:13] <arschmitz> uGoMobi: so do you just want to document that then and ill fix the rest?
[07:00:42] <uGoMobi> arschmitz: what will be the fix, besides only setting the page to relative if it's non-fixed external toolbars?
[07:01:03] <arschmitz> uGoMobi: instead of setting on page show
[07:01:26] <arschmitz> setting on pagechange
[07:01:43] <arschmitz> so the transition looks right
[07:01:57] <arschmitz> sans jumping footer
[07:02:59] <uGoMobi> arschmitz: are you talking about when setting position relative for the page?
[07:03:23] <arschmitz> yes
[07:04:32] <uGoMobi> arschmitz: ok, but we also have to remove it again
[07:04:44] <arschmitz> uGoMobi: yup
[07:05:00] <arschmitz> uGoMobi: before a trnasition starts
[07:05:15] <arschmitz> uGoMobi: i wonder if we could do this with just css specificity
[07:05:18] <arschmitz> i bet we could
[07:05:26] <arschmitz> im going to try
[07:05:37] <arschmitz> so the trnasition classes over ride to absolute
[07:05:50] <arschmitz> but otherwise its relative
[07:06:09] <arschmitz> uGoMobi: what do you think?
[07:06:44] <uGoMobi> arschmitz: you should use a class instead of inline style
[07:06:55] <arschmitz> uGoMobi: thats what im talking about
[07:07:05] <arschmitz> but i bet we could factor it out of js completely
[07:07:24] <uGoMobi> not sure
[07:07:34] <arschmitz> uGoMobi: ill try and see what i come up with
[07:07:53] <uGoMobi> because how do you target a page with an external footer that comes after the page?
[07:08:13] <arschmitz> uGoMobi: oh shoot true
[07:08:17] <arschmitz> header i could
[07:08:21] <arschmitz> but footer i could not
[07:08:23] <uGoMobi> yup
[07:08:38] <arschmitz> ok so ill just add a class that does it then
[07:08:48] <arschmitz> but i can still not worry about adding and removing i think
[07:08:56] <uGoMobi> yeah we can use ui-page-relative or something
[07:09:17] <arschmitz> uGoMobi: because ill define the class such that transition classes overide it to absolute
[07:10:24] <arschmitz> uGoMobi: yup
[07:12:25] <_|Nix|_> I have a solution involving no lib changes ...
[07:12:44] <_|Nix|_> http://babulina.go-nix.ca:8080/nix/jqm/demos/swipe-page/newyork.html
[07:13:24] <arschmitz> _|Nix|_: that wont load for me but regardless this IS a bug
[07:13:24] <_|Nix|_> Basically, beforetransition, you apply ui-page-pre-in, set the offset, then unapply those classes, and after the transition, you unset CSS left and top
[07:13:38] <_|Nix|_> arschmitz: Oh, sorry ... forgot the redirect ....
[07:13:58] <_|Nix|_> arschmitz: Well, yeah ... that fixes the demo at least.
[07:14:04] <arschmitz> yup
[07:14:25] <arschmitz> _|Nix|_: demos does look good though
[07:16:56] <_|Nix|_> arschmitz: K, wait, so you /can/ access babulina.go-nix.ca:8080 ?
[07:17:14] <arschmitz> yes sorry was just crazy slow
[07:17:26] <_|Nix|_> I don't get why it's so slow ...
[07:17:45] <_|Nix|_> arschmitz: Dang ... shouldn't've messed with my iptables :/
[07:21:13] <_|Nix|_> Hmmm ... still doesn't work in FF, at least not in browserstack ...
[07:21:26] <arschmitz> i can test it
[07:22:02] <arschmitz> same link?
[07:22:06] <_|Nix|_> arschmitz: Yeah.
[07:22:12] <_|Nix|_> arschmitz: But there it's just perf, I think.
[07:22:29] <arschmitz> ok just give me a minute need to get poswer cord
[07:22:30] <_|Nix|_> arschmitz: We should wait for the next/prev page to be actually loaded before we allow the swipe.
[07:22:41] <_|Nix|_> s/loaded/load/
[07:23:18] <_|Nix|_> Gah .. s@s/loaded/load/@@ :)
[07:25:50] <_|Nix|_> Hmmm ... my fix doesn't work on Android 2.3.5.
[07:37:49] <_|Nix|_> The interesting thing is the demo works as-is on Android 2.3.5, but the incoming/outgoing page is not simultaneous. First the old city slides out then the new city slides in.
[07:38:03] <arschmitz> weird
[07:38:52] <_|Nix|_> arschmitz: Another weird thing is that normally the navigation and header title update takes place before the transition. On Android, it takes place after the transition.
[07:38:59] <_|Nix|_> arschmitz: This is outright spooky.
[07:39:26] <_|Nix|_> Oh, and swipe does not work :/
[07:39:52] <arschmitz> weird i know swipe in general works
[07:40:01] <arschmitz> iv tested it till thw cows come home lol
[07:40:17] <_|Nix|_> arschmitz: Well one cow got turned into steak early.
[07:40:31] <arschmitz> and 2.3 is the most tested its tested on i think 6 different devices
[07:40:55] <arschmitz> _|Nix|_: but honestly that demo is a terrible place to test too much custom stuff
[07:40:56] <_|Nix|_> arschmitz: *shrug* ... I have a Samsung Galaxy SII ... I'll try view.jquerymobile.com in case it's just me.
[07:41:16] <arschmitz> _|Nix|_: you should use a jsbin with just a swipe handler and thats it
[07:41:59] <_|Nix|_> arschmitz: Well, I know, but I'd still like to make it work. I'm wondering if it's because we check event.target for the swipe to make sure we can still highlight text in the trivia popup.
[07:42:24] <arschmitz> _|Nix|_: very possible its just best to see if its a swipe problem or a demo problem 
[07:44:24] <arschmitz> _|Nix|_: http://jsbin.com/ofuhaw/571/edit
[07:45:02] <_|Nix|_> arschmitz: The swipe succeedes once in a blue moon. It's weird ...
[07:45:14] <arschmitz> _|Nix|_: on jsbin or demo?
[07:45:25] <_|Nix|_> arschmitz: On demo. Checking jsbin now.
[07:45:59] <_|Nix|_> arschmitz: The jsbin is not 100% either, but it's more reliable.
[07:46:26] <arschmitz> _|Nix|_: just make sure you are doing it quick enough and with enough offset
[07:46:42] <arschmitz> because remember it has adjustable tolerances for those 
[07:47:17] <arschmitz> _|Nix|_: ill charge up my 2.3 devices and test them also
[07:47:36] <_|Nix|_> arschmitz: It seems to work best when it's basically a botched click - i.e., I tap hard with my index finger and it slides off to the left/right.
[07:48:33] <arschmitz> _|Nix|_: well something tells me the force of your tap is unrelated since screens cant measure that lol
[07:48:57] <_|Nix|_> arschmitz: I know, but it helps me achieve the kind of sliding action that causes the swipe.
[07:50:00] <_|Nix|_> arschmitz: Man, it takes quite a snap ... 
[07:50:23] <arschmitz> _|Nix|_: maybe your not doing it fast enough or with enough distance
[07:50:46] <arschmitz> _|Nix|_: one thing i changed recently since i did all the testing was changed the min distance from 10 to 30px
[07:50:48] <_|Nix|_> arschmitz: I'm learning. I can do it more reliably now on the Android 2.3.5.
[07:51:04] <arschmitz> which reverted to 1.3 value
[07:51:16] <arschmitz> where we had a lot of complaints
[07:51:45] <arschmitz> _|Nix|_: didnt think it was related but maybe
[07:52:11] <arschmitz> _|Nix|_: but problem with 10 px was scrolling triggered it far to often
[07:55:01] <arschmitz> _|Nix|_: can you try http://jsbin.com/ofuhaw/572/edit?
[07:55:57] <_|Nix|_> arschmitz: Easier to trigger.
[07:57:07] <arschmitz> _|Nix|_: ok thats it then
[07:57:17] <arschmitz> the horizontal threshold 
[07:57:27] <arschmitz> _|Nix|_: all thats different is i changed it back to 10px
[07:57:53] <arschmitz> so its not really a bug but more about finding the right value for your app / supported platforms
[08:00:01] <_|Nix|_> Right. 
[08:00:31] <_|Nix|_> In other news, it's enough to data.toPage.css( "position", "" ) in pagecontainerbeforetransition ...
[08:00:43] <_|Nix|_> After all, that's exactly the state when you first load the page.
[08:01:17] <_|Nix|_> ... and it doesn't seem to cause any jumps, but that may just be because Chrome performs so well ...
[08:01:27] <arschmitz> _|Nix|_: yeah for fixed it is which the demo uses fixed
[08:01:47] <arschmitz> the real issue is when you try to used non fixed footer
[08:01:59] <_|Nix|_> arschmitz: Right.
[08:02:13] <arschmitz> _|Nix|_: but im going to fix both cases in the lib im working on it right now
[08:02:44] <arschmitz> _|Nix|_: so with the demo probably focus on the non transition issues because when i land the fix in toolbar it should take care of it 
[08:04:04] <_|Nix|_> Alright.
[08:13:29] <jqmobilecommit> 01[13jquery-mobile01] 15uGoMobi created 06demos-nav (+1 new commit): 02http://git.io/tnm15Q
[08:13:29] <jqmobilecommit> 13jquery-mobile/06demos-nav 14c3308eb 15Jasper de Groot: Demos: First pass on new navmenu.
[08:14:10] <uGoMobi> arschmitz: I am working in that branch for new demos nav ^^^
[08:14:32] <arschmitz> uGoMobi: ok
[08:14:35] <uGoMobi> arschmitz: so let's use that branch for updating the custom JS as well
[08:14:43] <arschmitz> uGoMobi: cool
[08:14:59] <arschmitz> uGoMobi: you still want me to update the script to fix the release issue right?
[08:15:26] <arschmitz> uGoMobi: with links not working on jquerymobile.com because of the two demos in path
[08:15:37] <uGoMobi> arschmitz: I think we can get rid of the data-global-nav="demos"
[08:16:08] <uGoMobi> arschmitz: we only need to do something for the menu on the homepage
[08:16:11] <arschmitz> uGoMobi: we still need to adjust on the main page though
[08:16:15] <arschmitz> uGoMobi: right
[08:16:24] <arschmitz> so we still need it if only for that page
[08:16:37] <uGoMobi> yeah, so if that requires a change in the release script... yes please
[08:16:39] <arschmitz> the data-attr just makes it configurable
[08:16:46] <arschmitz> uGoMobi: not release script
[08:16:48] <arschmitz> custom js
[08:17:14] <uGoMobi> ah sorry
[08:17:40] <arschmitz> uGoMobi: im not sure if how we do it now is still the best way for that but ill fugure it out when i fix it
[08:17:55] <uGoMobi> I thought maybe we could just dynamically remove the ../ from the href in the homepage menu
[08:18:10] <arschmitz> uGoMobi: hmm maybe
[08:19:04] <arschmitz> uGoMobi: im thinking i might just have it checkfor and remove that on pageload for that page only
[08:19:16] <arschmitz> and take it out of the "Widget" where it is now
[08:19:27] <uGoMobi> arschmitz: yeah sounds good
[08:19:58] <arschmitz> cool
[08:20:26] <arschmitz> i should get that today focusing on issues and demos today
[08:21:18] <_|Nix|_> So, I fixed the flipswitch locally to trigger change, but the KO part still doesn't work: http://jsbin.com/AKOmUxa/17/ I dunno much about KO other than there seems to be a typo: "Partecipating".
[08:22:13] <arschmitz> _|Nix|_: hmmm question is SHOULD it trigger change?
[08:22:27] <arschmitz> going back to our discussions in portland answer would be no
[08:22:38] <uGoMobi> I thought so
[08:22:44] <_|Nix|_> arschmitz: I know, but you have to mimic the native behaviour somehow ...
[08:22:48] <arschmitz> and going to ui as a model for future development
[08:22:53] <_|Nix|_> arschmitz: Unlike UI, we're enhancing, not producing.
[08:22:54] <arschmitz> _|Nix|_: why?
[08:23:11] <arschmitz> _|Nix|_: execpt once we have any shared widget it will not trigger change
[08:23:22] <arschmitz> it will trigger "flipswitchchange" 
[08:23:46] <_|Nix|_> arschmitz: Agreed. Which is probably why we'll have a layer of extensions for these widgets to ensure PE.
[08:23:48] <uGoMobi> ah I see the point
[08:23:59] <arschmitz> _|Nix|_: why would we
[08:24:30] <arschmitz> _|Nix|_: we discussed this in portland and there is no way you can have a single code path for when jqm does not work and when it does
[08:24:36] <_|Nix|_> Well, if we give up PE, we don't need to have such a layer. We'd be pushing the creation of such a layer onto the shoulders of devs.
[08:25:02] <_|Nix|_> arschmitz: Well, I guess that's true.
[08:25:03] <_|Nix|_> arschmitz: OK.
[08:25:04] <arschmitz> its not progressive enhancement really though
[08:25:08] <uGoMobi> so a dev should trigger change on widgetchange
[08:25:21] <arschmitz> uGoMobi: in the case of something like knockout yes
[08:25:31] <arschmitz> but normally its not needed at all
[08:25:36] <arschmitz> there is no reason to trigger it 
[08:26:14] <uGoMobi> right, you just use the widget change event
[08:26:23] <uGoMobi> this is just with things like KO
[08:26:25] <arschmitz> uGoMobi: exactly
[08:26:43] <arschmitz> right or if you have some 3rd party code that listens to change
[08:26:53] <uGoMobi> yeah
[08:26:58] <arschmitz> no just knockout but anuthing that expects change
[08:27:03] <_|Nix|_> I now remember the Portland discussion, but I'm hesitant because this breaks with our approach where your widgets work the same way as native ones, and your code does not need to care whether jQM actually enhances or not.
[08:27:40] <_|Nix|_> Our criteria for c-grade may not agree with the developer's.
[08:27:45] <arschmitz> _|Nix|_: i understand however he have no real choice this is how ui does it and we are going to share widgets 
[08:28:15] <arschmitz> and i dont think building an extension for every widget to trigger change makes sense when if the dev needs it its basicly a single line 
[08:28:22] <_|Nix|_> arschmitz: I thought the point was that we build on top of UI, keeping the framework-specific stuff in mobile.
[08:28:48] <uGoMobi> arschmitz: you say "how UI does it" but they didn't have form controls yet
[08:28:58] <arschmitz> uGoMobi: sure they do
[08:29:02] <_|Nix|_> arschmitz: I guess ... I hope it really /is/ always one line.
[08:29:13] <arschmitz> they have selectmenu
[08:29:35] <arschmitz> uGoMobi: and its not just about form controls
[08:29:41] <arschmitz> we should no emit native events 
[08:30:02] <arschmitz> we should emit our own events
[08:30:25] <uGoMobi> I know but in case of form controls you might be more interested in the change event
[08:31:05] <_|Nix|_> The only reason I think this is an issue is that so far we've been promising "unobtrusive" enhancements.
[08:31:22] <jqmobilecommit> [13jquery-mobile] 15arschmitz closed issue #6561: Swipe event does not work using JQueryMobile, IE10 on Win8 (Microsoft Tablet Surface and Nokia Lumia)  02http://git.io/lY5PRw
[08:33:15] <uGoMobi> _|Nix|_: why is not triggering change event is obstructive enhancement?
[08:33:28] <uGoMobi> to me it's more about convenience
[08:34:21] <_|Nix|_> uGoMobi: Think about this: If someone writes their app without jQM, and then adds jQM later on, it still works.
[08:34:41] <_|Nix|_> uGoMobi: Their app still works.
[08:35:16] <arschmitz> _|Nix|_: do you really thing the same code will work either way
[08:35:18] <_|Nix|_> uGoMobi: Only now it looks the same on all platforms, with all the nice transitions on A-grade.
[08:35:29] <scott_gonzalez> It's not just about looks.
[08:35:35] <scott_gonzalez> If it was, the change event would still work.
[08:35:40] <arschmitz> i cant imagine custom code that actually works properly without jqm
[08:36:05] <scott_gonzalez> Change is only suppressed if there is code that is explicitly changing the value.
[08:36:07] <uGoMobi> arschmitz: yeah I think so too
[08:37:10] <scott_gonzalez> Also, see https://github.com/jzaefferer/standards-tracker/issues/1
[08:37:10] <b-ot> scott_gonzalez: Issue #1 by jzaefferer (7mon 1w ago): change event
[08:38:01] <_|Nix|_> I guess the question is: Do we want to continue pretending that we're making native elements look better without actually changing the way they work?
[08:38:39] <scott_gonzalez> Who's pretending to do what?
[08:38:57] <arschmitz> scott_gonzalez: all mobile widgets emit native change events right now
[08:39:11] <scott_gonzalez> When? On blur?
[08:39:29] <arschmitz> scott_gonzalez: when ever the widget changes the value
[08:39:43] <arschmitz> scott_gonzalez: which i think should be removed
[08:39:46] <_|Nix|_> scott_gonzalez: We're pretending that you're plain old <select> is just a plain old <select> while we put a button on top and generate a listview and a popup and a dialog, etc. Yet, when you select a value, the plain old select underneath all this behaves just as if you had clicked on a menu item in its native menu.
[08:39:49] <scott_gonzalez> That's clearly wrong.
[08:40:27] <arschmitz> scott_gonzalez: i agree i dont think we should emit native change at all
[08:40:36] <_|Nix|_> scott_gonzalez: So, to the dev it continues to behave like a plain old <select> while, in reality, it's a whole pile of functionality.
[08:40:48] <arschmitz> that we should emit a widget change event for people to bind to
[08:40:56] <scott_gonzalez> That's generally what JS libs are: piles of functionality.
[08:41:33] <_|Nix|_> scott_gonzalez: Yes, but unlike most, we use the browser's native events to communicate what the user has done, just as if our library wasn't loaded at all.
[08:43:20] <_|Nix|_> Now, if we wish to drop this, and communicate outside the browser's native events, that's fine, but then we're asking devs to basically replace .on( "change" ) with .on( "change selectmenuchange" ) and we're pledging that both will never be triggered.
[08:44:25] <arschmitz> _|Nix|_: your still asuuming a single jqm and non jqm code path
[08:44:31] <arschmitz> which i think is unrealistic
[08:45:19] <uGoMobi> yeah I think you will always need some special handling for C-grade browsers
[08:46:03] <_|Nix|_> uGoMobi: OK, like I said. If nobody benefits from the fact that we communicate via the browser's native interface, then let's leave it behind.
[08:46:58] <_|Nix|_> uGoMobi: But I think an issue like the flipswitch one shows that people have grown accustomed to the fact the jQM enables exactly that: A single code path for both enhanced and non-enhanced.
[08:47:08] <uGoMobi> _|Nix|_: I see your point and the convenience of only binding to native browser event
[08:47:37] <uGoMobi> _|Nix|_: yeah that's true because that's how we always did it
[08:48:36] <arschmitz> _|Nix|_: im not really saying that flipswitch should not do this right this second for consistancy
[08:49:00] <arschmitz> but it should probably be deprecated and make sure all widgets are emiting the widget event instead
[08:49:01] <_|Nix|_> You know what's really funny? There's Web components looming on the horizon.
[08:49:14] <arschmitz> but we should probably do this all at once
[08:49:22] <uGoMobi> _|Nix|_: but I also noticed that events fire twice in some cases
[08:49:23] <_|Nix|_> ... and with Web components, if you extend a native form element, if you trigger change, that /will/ be a native event.
[08:49:27] <arschmitz> _|Nix|_: i dont know how looming they are but yes
[08:49:47] <uGoMobi> _|Nix|_: which has to do with us triggering native event
[08:49:49] <scott_gonzalez> I don't see what's funny about that. Nothing is as it seems with web components.
[08:50:33] <scott_gonzalez> In fact, let me dig up a thread about exactly why custom elements don't behave like existing elements.
[08:52:33] <scott_gonzalez> https://groups.google.com/forum/#!searchin/polymer-dev/shadow$20dom$20question$20getting$20value/polymer-dev/aX6vyt-RtDs/wqM_7O3aiLsJ
[08:53:27] <scott_gonzalez> When you create something new, it's just that: something new.
[08:54:01] <scott_gonzalez> Drawing parallels between custom elements and JS widgets in jQuery Mobile is tricky because of this.
[08:54:10] <scott_gonzalez> Because your argument is that it's actually not something new.
[08:54:28] <scott_gonzalez> And that the existing behavior should only change in some ways, but not others.
[08:54:46] <scott_gonzalez> Specifically that the look and interaction should change, but the events being triggered should not.
[08:54:55] <_|Nix|_> scott_gonzalez: With web components you can also extend existing elements, IINM.
[08:55:13] <scott_gonzalez> Sort of.
[08:55:38] <scott_gonzalez> You can change the way an element is built by replacing its shadow DOM.
[08:55:50] <_|Nix|_> scott_gonzalez: Well, that's just it. If making an element a shadow host causes it to completely disappear (including its events), then it's not as useful as otherwise.
[08:56:32] <_|Nix|_> scott_gonzalez: Then Web components is not as useful as otherwise, I mean.
[08:58:05] <scott_gonzalez> tj_vantoll: What does Kendo do about change events?
[09:00:07] <tj_vantoll> scott_gonzalez: You can extend an element with custom elements, but how that will work with something like an <input> is still kind of a gray area.
[09:00:13] <tj_vantoll> Not sure on Kendo but I can check.
[09:02:26] <tj_vantoll> http://jsfiddle.net/tj_vantoll/x57bh/
[09:03:05] <arschmitz> so they emit the native one and a custom one it seems
[09:03:40] <tj_vantoll> Actually this one is better http://jsfiddle.net/tj_vantoll/x57bh/1/
[09:03:48] <tj_vantoll> They .trigger( "change" )
[09:04:26] <arschmitz> tj_vantoll: yeah thats exactly what we are talking about
[09:04:42] <arschmitz> tj_vantoll: if widgets should trigger change or just a custom change event
[09:05:23] <scott_gonzalez> Well, this is a perfect example of "wrong" behavior.
[09:05:51] <_|Nix|_> I guess they probably trigger change for the same reason we do. They probably don't do much on mobile platforms they can't support.
[09:05:58] <tj_vantoll> Meaning, inconsistent with native correct?
[09:06:09] <tj_vantoll> scott_gonzalez:  ^
[09:06:37] <scott_gonzalez> Hmm...actually it looks like native datepickers trigger change on select.
[09:06:39] <scott_gonzalez> Not on blur.
[09:06:49] <scott_gonzalez> Which gets us back to the crazy inconsistencies of native change events.
[09:07:00] <tj_vantoll> Yeah exactly.
[09:08:39] <tj_vantoll> So to add another level of inconsistency Chrome now uses different behavior for different <input> types :)
[09:08:53] <_|Nix|_> In a way we're really making it impossible to use the same code path for both enhanced and non-enhanced. If it's enhanced, you need to .prop( "checked", true ).checkboxradio( "refresh" ); Otherwise, you don't need to call refresh.
[09:09:41] <scott_gonzalez> _|Nix|_: Why are you so obsessed with code that works with and without jQuery Mobile?
[09:09:42] <_|Nix|_> So we can't fully implement the native behaviour - in both directions.
[09:09:51] <scott_gonzalez> The refresh() method isn't even relevant to the change discussion.
[09:10:30] <tj_vantoll> Chromes fires change events for each keypress on <input type="date">. Fun.
[09:10:36] <scott_gonzalez> WTF?
[09:10:39] <_|Nix|_> scott_gonzalez: It is. If you change the value by accessing the native widget, you need to call refresh() otherwise the enhanced widget does not reflect the new value.
[09:10:47] <_|Nix|_> scott_gonzalez: This is the flipside of the coin.
[09:11:12] <tj_vantoll> Wait maybe not, hold on.
[09:11:22] <_|Nix|_> scott_gonzalez: We can't ensure that we stay in synch for the same reason we cannot avoid triggering change: Because the native widget does not trigger change in response to programmatic changes.
[09:11:33] <scott_gonzalez> tj_vantoll: Yeah, for every number key you press, you get a change event.
[09:11:36] <_|Nix|_> scott_gonzalez: So this speaks in favour of not triggering change.
[09:11:49] <_|Nix|_> scott_gonzalez: ... because our "ruse" is incomplete, anyway.
[09:12:05] <tj_vantoll> Yeah. It doesn't do it until you've picked a valid date though‚Ä¶ to add to the fun.
[09:13:50] <scott_gonzalez> That's pretty terrible.
[09:13:59] <_|Nix|_> arschmitz: So, it really kinda fits that we should stop triggering "change" ... when you start using jQM you have to start calling .<widgetname>( "refresh" ) after changing the value of a native element anyway, so you might as well take care of the other direction too ...
[09:18:13] <_|Nix|_> arschmitz: So, I guess we should this._trigger( "change" ) and tell the OP to .on( "flipswitchchange", function() { $( this ).trigger( "change" ); });
[09:19:02] <arschmitz> _|Nix|_: im actuallhy not so sure as i mentioned earlier i think maybe for consistancy flipswitch should .trigger("change") until we change in ALL widgets
[09:20:16] <uGoMobi> yes let's keep this consistent with other widgets for now
[09:20:19] <_|Nix|_> OK.
[09:20:40] <uGoMobi> and then decide together with UI how we want to do this in the future
[09:21:09] <uGoMobi> it's very inconvenient if you use KO and have a form in which one widget doesn't fire the change event
[09:21:29] <uGoMobi> for example
[09:21:44] <_|Nix|_> uGoMobi: OK, well, I still can't get KO to work: http://jsbin.com/AKOmUxa/16/edit
[09:21:54] <_|Nix|_> uGoMobi: I got the change event to work just fine ...
[09:22:20] <arschmitz> _|Nix|_: well in my oppinion thats up to the poster to figure out and if its a jqm bug the report that bug
[09:22:43] <arschmitz> not being fully compatible with some other js lib is not a bug
[09:23:07] <uGoMobi> yes you can get it to work and I don't mean we should do this just for KO
[09:23:42] <uGoMobi> I just mean that we have to be consistent
[09:25:13] <arschmitz> uGoMobi: exactly
[09:28:14] <_|Nix|_> arschmitz: Yeah ... I just wanted it for completeness. 
[09:29:15] <arschmitz> _|Nix|_: yeah i would just fix change and close with a comment that if they can find a bug in jqm causing the behivor we are happy to reopen
[09:33:58] <_|Nix|_> arschmitz: OK. I'll implement _reset() while I'm at it.
[10:15:34] <jqmobilecommit> 01[13jquery-mobile01] 15uGoMobi pushed 1 new commit to 06demos-nav: 02http://git.io/qSmKuw
[10:15:34] <jqmobilecommit> 13jquery-mobile/06demos-nav 14f252ba4 15Jasper de Groot: Demos: Switching to overlay panel for the navmenu....
[16:40:40] <jquicommit> [13download.jqueryui.com] 15amnuts opened issue #168: Theme roller form elements not updated  02http://git.io/OwHS6Q
[17:33:12] <jquicommit> [13download.jqueryui.com] 15rxaviers closed issue #168: Theme roller form elements not updated  02http://git.io/OwHS6Q
[18:03:07] <jquicommit> [13download.jqueryui.com] 15rxaviers reopened issue #168: Theme roller form elements not updated  02http://git.io/OwHS6Q
[20:03:18] <jquicommit> [13download.jqueryui.com] 15techef-ltd opened issue #169: Unable to get custom jQuery UI download 504 gateway timeout  02http://git.io/YBxd5A
[20:40:12] <jquicommit> [13download.jqueryui.com] 15gnarf closed issue #169: Unable to get custom jQuery UI download 504 gateway timeout  02http://git.io/YBxd5A
